/*
  entry1.c:

  Copyright (C) 1991 Barry Vercoe, John ffitch

  This file is part of Csound.

  The Csound Library is free software; you can redistribute it
  and/or modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation; either
  version 2.1 of the License, or (at your option) any later version.

  Csound is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.

  You should have received a copy of the GNU Lesser General Public
  License along with Csound; if not, write to the Free Software
  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
  02110-1301 USA
*/

#include "entry1.h"             /*                      ENTRY1.C        */
#include "interlocks.h"
#include "csound_type_system_internal.h"
#include "fgens.h"
#include "linevent.h"
#include "goto_ops.h"
#include "pstream_internal.h"
#include "midiops_internal.h"
#include "pvsanal.h"
#include "schedule_internal.h"
#include "diskin2.h"
#include "disprep.h"
#include "cmath.h"
#include "aops.h"
#include "dumpf.h"
#include "midiout.h"
#include "remote.h"

/* thread vals, where isub=1, ksub=2:
   0 =     1  OR   2  (B out only)
   1 =     1
   2 =             2
   3 =     1  AND  2
*/

/* inarg types include the following:
   i       irate scalar
   k       krate scalar
   a       arate vector
   f       frequency variable
   w       spectral variable
   x       krate scalar or arate vector
   S       String
   T       String or i-rate
   U       String or i/k-rate
   B       Boolean k-rate
   b       Boolean i-rate; internally generated as required
   l       Label
   .       required arg of any-type
   and codes
   ?       optional arg of any-type
   m       begins an indef list of iargs (any count)
   M       begins an indef list of args (any count/rate i,k,a)
   N       begins an indef list of args (any count/rate i,k,a,S)
   o       optional i-rate, defaulting to  0
   p              "             "          1
   q              "             "         10
   v              "             "          .5
   j              "             "         -1
   h              "             "        127
   O       optional k-rate, defaulting to  0
   J              "             "         -1
   V              "             "          .5
   P              "             "          1
   W       begins indef list of Strings (any count)
   y       begins indef list of aargs (any count)
   z       begins indef list of kargs (any count)
   Z       begins alternating kakaka...list (any count)
*/

/* outarg types include:
 i, k, a, S as  above
 *       multiple out args of any-type
 m       multiple out aargs
 z       multiple out kargs
 I       multiple out irate (not implemented yet)
 s       deprecated (use a or k as required)
 X       multiple args (a, k, or i-rate)     IV - Sep 1 2002
 N       multiple args (a, k, i, or S-rate)
 F       multiple args (f-rate)#
*/

/* inargs and outargs may also be arrays, e.g. "a[b]" is an array of
   arate vectors. Then for polymorphic opcode entries, "opcode.a" is
   for arate vectors, and "opcode.A" is for arrays of arate vectors.
*/

OENTRY opcodlst_1[] = {
  /* opcode   dspace  flags  thread  outarg  inargs  isub    ksub    asub    */
  { "",     0,      0,    0,      "",     "",     NULL, NULL, NULL, NULL },
  { "instr",  0,    0,      0,      "",     "",   NULL, NULL, NULL, NULL },
  { "endin",  0,    0,      0,      "",     "",   NULL, NULL, NULL, NULL },
  /* IV - Sep 8 2002 */
  { "opcode",  0,    0,      0,      "",     "",   NULL, NULL, NULL, NULL },
  { "endop",   0,    0,      0,      "",     "",   NULL, NULL, NULL, NULL },
  { "declare", 0,    0,      0,      "",     "",   NULL, NULL, NULL, NULL },
  { "$label", S(LBLBLK),  0,0,      "",     "",   NULL, NULL, NULL, NULL },
  { "pset",   S(PVSET),   0,0,      "",     "m",  NULL, NULL, NULL, NULL },

  /* IV - Sep 8 2002 - added entries for user defined opcodes, xin, xout */
  /* and setksmps */
  { "##userOpcode", S(UOPCODE),0, 7, "", "", useropcdset, useropcd, useropcd, NULL },
  /* IV - Sep 10 2002: removed perf time routines of xin and xout */
  { "xin",  S(XIN_MAX),0,   1,  "****************", "",  xinset,  NULL, NULL, NULL },
  /* { "xin.64",   S(XIN_HIGH),0,  1,
    "****************************************************************", "",
    xinset,  NULL, NULL },
  { "##xin256",  S(XIN_MAX),0,   1,
    "****************************************************************"
    "****************************************************************"
    "****************************************************************"
    "****************************************************************", "",
    xinset,  NULL, NULL },*/
  { "xout", S(XOUT_MAX),0,  1,  "",         "*", xoutset, NULL, NULL, NULL },
  { "setksmps", S(SETKSMPS),0,  1,  "",   "i", setksmpsset, NULL, NULL },
  { "ctrlinit",S(CTLINIT),0,1,      "",  "im", (SUBR)ctrlinit, NULL, NULL, NULL},
  { "ctrlinit.S",S(CTLINITS),0,1,      "",  "Sm", (SUBR)ctrlnameinit, NULL, NULL, NULL},
  { "ctrlsave",S(SAVECTRL),0,3,       "k[]","im", (SUBR)savectrl_init, (SUBR)savectrl_perf, NULL, NULL},
  { "ctrlprint.S",S(PRINTCTRL),0,3, "", "k[]S", (SUBR)printctrl_init1, (SUBR)printctrl, NULL},
  { "ctrlprint",S(PRINTCTRL),0,3,       "", "k[]", (SUBR)printctrl_init, (SUBR)printctrl, NULL},
  { "ctrlpreset", S(PRESETCTRL1), 0,3, "k", "kk[]", (SUBR)presetctrl1_init, (SUBR)presetctrl1_perf, NULL},
  { "ctrlpreset", S(PRESETCTRL), 0,3, "k", "kim", (SUBR)presetctrl_init, (SUBR)presetctrl_perf, NULL},
  { "ctrlselect", S(SELECTCTRL), 0,3,"",   "k", (SUBR)selectctrl_init, (SUBR)selectctrl_perf, NULL },
  { "ctrlprintpresets", S(PRINTPRESETS), 0,3, "", "", (SUBR)printpresets_init, (SUBR)printpresets_perf, NULL},
  { "ctrlprintpresets.S", S(PRINTPRESETS), 0,3, "", "S", (SUBR)printpresets_init1, (SUBR)printpresets_perf, NULL},
  { "massign",S(MASSIGN), 0,1,      "",  "iip",(SUBR)massign_p, NULL, NULL, NULL},
  { "massign.iS",S(MASSIGNS), 0,1,  "",  "iSp",(SUBR)massign_S, NULL, NULL, NULL},
  { "turnon", S(TURNON),  0,1,      "",     "io", turnon, NULL, NULL, NULL},
  { "turnon.S", S(TURNON),  0,1,    "",     "So", turnon_S, NULL, NULL, NULL},
  { "remoteport", S(REMOTEPORT), 0,1, "",  "i", (SUBR)remoteport, NULL, NULL, NULL},
  { "insremot",S(INSREMOT),0,1,     "",     "SSm",(SUBR)insremot, NULL, NULL, NULL},
  { "midremot",S(MIDREMOT),0,1,     "",     "SSm",(SUBR)midremot, NULL, NULL, NULL},
  { "insglobal",S(INSGLOBAL),0,1,   "",     "Sm", (SUBR)insglobal, NULL, NULL, NULL},
  { "midglobal",S(MIDGLOBAL),0,1,   "",     "Sm", (SUBR)midglobal, NULL, NULL, NULL},
  { "ihold",  S(LINK),0,    1,      "",     "",     (SUBR)ihold, NULL, NULL, NULL  },
  { "turnoff",S(LINK),0,    2,      "",     "",     NULL,   (SUBR)turnoff, NULL, NULL },
  /* VL: 10.2.22 this was thread 1, but with parser3 we need to make string assignment on threads 1 & 2 */
  {  "=.S",   S(STRCPY_OP),0,   3,  "S",    "S",
     (SUBR) strcpy_opcode_S, (SUBR) strassign_k, (SUBR) NULL, NULL    },
  /* VL: 11.2.22 this was thread 2, but with an update count, we need to be initialised */
  {  "#=.S",   S(STRCPY_OP),0,   3,  "S",    "S",
     (SUBR) strcpy_opcode_S, (SUBR) strassign_k, (SUBR) NULL, NULL    },
  {  "=.T",   S(STRCPY_OP),0,   1,  "S",    "i",
     (SUBR) strcpy_opcode_p, (SUBR) NULL, (SUBR) NULL, NULL                 },
  { "=.r",    S(ASSIGN),0,  1,      "r",    "i",    (SUBR)rassign, NULL, NULL, NULL },
  { "=.i",    S(ASSIGNM),0, 1,      "IIIIIIIIIIIIIIIIIIIIIIII", "m",
    (SUBR)minit, NULL, NULL, NULL  },
  { "=.k",    S(ASSIGNM),0, 2,      "zzzzzzzzzzzzzzzzzzzzzzzz", "z",
    NULL, (SUBR)minit, NULL, NULL },
  { "=.a",    S(ASSIGN),0,  2,      "a",    "a",    NULL, (SUBR)gaassign, NULL, NULL},
  { "=.l",    S(ASSIGN),0,  2,      "a",    "a",    NULL,   (SUBR)laassign, NULL, NULL},
  { "=.up",   S(UPSAMP),0,  2,      "a",    "k",  NULL, (SUBR)upsamp, NULL, NULL},
  { "=.down",   S(DOWNSAMP),0,  3,  "k",    "ao",   (SUBR)downset,(SUBR)downsamp, NULL, NULL},
  //  { "=.t",    S(ASSIGNT),0, 2,      "t",    "kk",   NULL,   tassign, NULL   },
  { "init.S", S(STRCPY_OP),0, 1,      "S", "S", (SUBR) strcpy_opcode_S, NULL, NULL, NULL},
  { "init.Si", S(STRCPY_OP),0, 1,      "S", "i", (SUBR) strcpy_opcode_p, NULL, NULL, NULL},
  { "init.i", S(ASSIGNM),0, 1,      "IIIIIIIIIIIIIIIIIIIIIIII", "m", (SUBR)minit, NULL, NULL, NULL},
  { "init.k", S(ASSIGNM),0, 1,      "zzzzzzzzzzzzzzzzzzzzzzzz", "m", (SUBR)minit, NULL, NULL, NULL},
  { "init.a", S(ASSIGNM),0, 1,      "mmmmmmmmmmmmmmmmmmmmmmmm", "m", (SUBR)mainit, NULL, NULL, NULL},
  { ">",      S(RELAT),0,   0,      "b",    "ii",   (SUBR)gt,     (SUBR)gt, NULL, NULL},
  { ">.0",      S(RELAT),0,   0,      "B",    "kk",   (SUBR)gt,     (SUBR)gt, NULL, NULL},
  { ">=",     S(RELAT),0,   0,      "b",    "ii",   (SUBR)ge,     (SUBR)ge, NULL, NULL},
  { ">=.0",     S(RELAT),0,   0,      "B",    "kk",   (SUBR)ge,     (SUBR)ge, NULL, NULL},
  { "<",      S(RELAT),0,   0,      "b",    "ii",   (SUBR)lt,     (SUBR)lt, NULL, NULL},
  { "<.0",      S(RELAT),0,   0,      "B",    "kk",   (SUBR)lt,     (SUBR)lt, NULL, NULL},
  { "<=",     S(RELAT),0,   0,      "b",    "ii",   (SUBR)le,     (SUBR)le, NULL, NULL},
  { "<=.0",     S(RELAT),0,   0,      "B",    "kk",   (SUBR)le,     (SUBR)le, NULL, NULL},
  { "==",     S(RELAT),0,   0,      "b",    "ii",   (SUBR)eq,     (SUBR)eq, NULL, NULL},
  { "==.0",     S(RELAT),0,   0,      "B",    "kk",   (SUBR)eq,     (SUBR)eq, NULL, NULL},
  { "!=",     S(RELAT),0,   0,      "b",    "ii",   (SUBR)ne,     (SUBR)ne, NULL, NULL},
  { "!=.0",     S(RELAT),0,   0,      "B",    "kk",   (SUBR)ne,     (SUBR)ne, NULL, NULL},
  { "!",      S(LOGCL),0,   0,      "b",    "b",    (SUBR)b_not,    (SUBR)b_not, NULL, NULL},
  { "!.0",      S(LOGCL),0, 0,      "B",    "B",    (SUBR)b_not,    (SUBR)b_not, NULL, NULL},
  { "&&",     S(LOGCL),0,   0,      "b",    "bb",   (SUBR)and,    (SUBR)and, NULL, NULL},
  { "&&.0",     S(LOGCL),0,   0,      "B",    "BB",   (SUBR)and,    (SUBR)and, NULL, NULL},
  { "||",     S(LOGCL),0,   0,      "b",    "bb",   (SUBR)or,     (SUBR)or, NULL, NULL},
  { "||.0",     S(LOGCL),0,   0,      "B",    "BB",   (SUBR)or,     (SUBR)or, NULL, NULL},
  { ":cond.i",     S(CONVAL),0,  1,      "i",    "bii",  (SUBR)conval, NULL, NULL, NULL},
  { ":cond.k",     S(CONVAL),0,  2,      "k",    "Bkk",  NULL,   (SUBR)conval, NULL, NULL},
  { ":cond.a",     S(CONVAL),0,  2,      "a",    "Bxx",  NULL,   (SUBR)aconval, NULL, NULL},
  { ":cond.s",     S(CONVAL),0,  1,      "S",    "bSS",  (SUBR)conval, NULL, NULL, NULL},
  { ":cond.S",     S(CONVAL),0,  3,      "S",    "BSS",  (SUBR)conval, (SUBR)conval, NULL, NULL},
  { "##add.ii",  S(AOP),0,    1,      "i",    "ii",   (SUBR)addkk, NULL, NULL, NULL},
  { "##sub.ii",  S(AOP),0,    1,      "i",    "ii",   (SUBR)subkk, NULL, NULL, NULL},
  { "##mul.ii",  S(AOP),0,    1,      "i",    "ii",   (SUBR)mulkk, NULL, NULL, NULL},
  { "##div.ii",  S(AOP),0,    1,      "i",    "ii",   (SUBR)divkk, NULL, NULL, NULL},
  { "##mod.ii",  S(AOP),0,    1,      "i",    "ii",   (SUBR)modkk, NULL, NULL, NULL},
  { "##add.kk",  S(AOP),0,    2,      "k",    "kk",   NULL,   (SUBR)addkk, NULL, NULL},
  { "##sub.kk",  S(AOP),0,    2,      "k",    "kk",   NULL,   (SUBR)subkk, NULL, NULL},
  { "##mul.kk",  S(AOP),0,    2,      "k",    "kk",   NULL,   (SUBR)mulkk, NULL, NULL},
  { "##div.kk",  S(AOP),0,    2,      "k",    "kk",   NULL,   (SUBR)divkk, NULL, NULL},
  { "##mod.kk",  S(AOP),0,    2,      "k",    "kk",   NULL,   (SUBR)modkk, NULL, NULL},
  { "##add.ka",  S(AOP),0,    2,      "a",    "ka",   NULL,   (SUBR)addka, NULL, NULL},
  { "##sub.ka",  S(AOP),0,    2,      "a",    "ka",   NULL,   (SUBR)subka, NULL, NULL},
  { "##mul.ka",  S(AOP),0,    2,      "a",    "ka",   NULL,   (SUBR)mulka, NULL, NULL},
  { "##div.ka",  S(AOP),0,    2,      "a",    "ka",   NULL,   (SUBR)divka, NULL, NULL},
  { "##mod.ka",  S(AOP),0,    2,      "a",    "ka",   NULL,   (SUBR)modka, NULL, NULL},
  { "##add.ak",  S(AOP),0,    2,      "a",    "ak",   NULL,   (SUBR)addak, NULL, NULL},
  { "##sub.ak",  S(AOP),0,    2,      "a",    "ak",   NULL,   (SUBR)subak, NULL, NULL},
  { "##mul.ak",  S(AOP),0,    2,      "a",    "ak",   NULL,   (SUBR)mulak, NULL, NULL},
  { "##div.ak",  S(AOP),0,    2,      "a",    "ak",   NULL,   (SUBR)divak, NULL, NULL},
  { "##mod.ak",  S(AOP),0,    2,      "a",    "ak",   NULL,   (SUBR)modak, NULL, NULL},
  { "##add.aa",  S(AOP),0,    2,      "a",    "aa",   NULL,   (SUBR)addaa, NULL, NULL},
  { "##sub.aa",  S(AOP),0,    2,      "a",    "aa",   NULL,   (SUBR)subaa, NULL, NULL},
  { "##mul.aa",  S(AOP),0,    2,      "a",    "aa",   NULL,   (SUBR)mulaa, NULL, NULL},
  { "##div.aa",  S(AOP),0,    2,      "a",    "aa",   NULL,   (SUBR)divaa, NULL, NULL},
  { "##mod.aa",  S(AOP),0,    2,      "a",    "aa",   NULL,   (SUBR)modaa, NULL, NULL},
  { "##addin.i", S(ASSIGN),0, 1,      "i",    "i",    (SUBR)addin,  NULL, NULL, NULL},
  { "##addin.k", S(ASSIGN),0, 2,      "k",    "k",    NULL,   (SUBR)addin, NULL, NULL},
  { "##addin.K", S(ASSIGN),0, 2,      "a",    "k",    NULL,   (SUBR)addinak, NULL, NULL},
  { "##addin.a", S(ASSIGN),0, 2,      "a",    "a",    NULL,   (SUBR)addina, NULL, NULL},
  { "##subin.i", S(ASSIGN),0, 1,      "i",    "i",    (SUBR)subin,  NULL, NULL, NULL},
  { "##subin.k", S(ASSIGN),0, 2,      "k",    "k",    NULL,   (SUBR)subin, NULL, NULL},
  { "##subin.K", S(ASSIGN),0, 2,      "a",    "k",    NULL,   (SUBR)subinak, NULL},
  { "##subin.a", S(ASSIGN),0, 2,      "a",    "a",    NULL,   (SUBR)subina, NULL, NULL},
  //{ "divz",   0xfffc                                                      },
  { "divz.ii", S(DIVZ),0,   1,      "i",    "iii",  (SUBR)divzkk, NULL,   NULL, NULL},
  { "divz.kk", S(DIVZ),0,   2,      "k",    "kkk",  NULL,   (SUBR)divzkk, NULL, NULL},
  { "divz.ak", S(DIVZ),0,   2,      "a",    "akk",  NULL,   (SUBR)divzak, NULL, NULL},
  { "divz.ka", S(DIVZ),0,   2,      "a",    "kak",  NULL,   (SUBR)divzka, NULL, NULL},
  { "divz.aa", S(DIVZ),0,   2,      "a",    "aak",  NULL,   (SUBR)divzaa, NULL, NULL},
  { "int.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)int1, NULL, NULL, NULL},
  { "frac.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)frac1, NULL, NULL, NULL},
  { "round.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)int1_round, NULL, NULL, NULL},
  { "floor.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)int1_floor, NULL, NULL, NULL},
  { "ceil.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)int1_ceil, NULL, NULL, NULL},
  { "rndseed", S(EVAL),0,    1,      "",    "i",    (SUBR)rnd1seed, NULL, NULL, NULL},
  { "rnd.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)rnd1, NULL, NULL, NULL},
  { "birnd.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)birnd1, NULL, NULL, NULL},
  { "abs.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)abs1, NULL, NULL, NULL},
  { "exp.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)exp01, NULL, NULL, NULL},
  { "log.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)log01, NULL, NULL, NULL},
  { "sqrt.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)sqrt1, NULL, NULL, NULL},
  { "sin.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)sin1, NULL, NULL, NULL},
  { "cos.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)cos1, NULL, NULL, NULL},
  { "tan.i",  S(EVAL),0,    1,      "i",    "i",    (SUBR)tan1, NULL, NULL, NULL},
  { "qinf.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)is_inf, NULL, NULL, NULL},
  { "qnan.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)is_NaN, NULL, NULL, NULL},
  { "sininv.i", S(EVAL),0,  1,      "i",    "i",    (SUBR)asin1, NULL, NULL, NULL},
  { "cosinv.i", S(EVAL),0,  1,      "i",    "i",    (SUBR)acos1, NULL, NULL, NULL},
  { "taninv.i", S(EVAL),0,  1,      "i",    "i",    (SUBR)atan1, NULL, NULL, NULL},
  { "taninv2.i",S(AOP),0,   1,      "i",    "ii",   (SUBR)atan21, NULL, NULL, NULL},
  { "log10.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)log101, NULL, NULL, NULL},
  { "log2.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)log21, NULL, NULL, NULL},
  { "sinh.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)sinh1, NULL, NULL, NULL},
  { "cosh.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)cosh1, NULL, NULL, NULL},
  { "tanh.i", S(EVAL),0,    1,      "i",    "i",    (SUBR)tanh1, NULL, NULL, NULL},
  { "int.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)int1, NULL, NULL},
  { "frac.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)frac1, NULL, NULL},
  { "round.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)int1_round, NULL, NULL},
  { "floor.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)int1_floor, NULL, NULL},
  { "ceil.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)int1_ceil, NULL, NULL},
  { "rnd.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)rnd1, NULL, NULL},
  { "birnd.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)birnd1, NULL, NULL},
  { "abs.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)abs1, NULL, NULL},
  { "exp.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)exp01, NULL, NULL},
  { "log.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)log01, NULL, NULL},
  { "sqrt.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)sqrt1, NULL, NULL},
  { "sin.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)sin1, NULL, NULL},
  { "cos.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)cos1, NULL, NULL},
  { "tan.k",  S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)tan1, NULL, NULL},
  { "qinf.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)is_inf, NULL, NULL},
  { "qnan.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)is_NaN, NULL, NULL},
  { "sininv.k", S(EVAL),0,  2,      "k",    "k",    NULL,   (SUBR)asin1, NULL, NULL},
  { "cosinv.k", S(EVAL),0,  2,      "k",    "k",    NULL,   (SUBR)acos1, NULL, NULL},
  { "taninv.k", S(EVAL),0,  2,      "k",    "k",    NULL,   (SUBR)atan1, NULL, NULL},
  { "taninv2.k",S(AOP),0,   2,      "k",    "kk",   NULL,   (SUBR)atan21, NULL, NULL},
  { "sinh.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)sinh1, NULL, NULL},
  { "cosh.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)cosh1, NULL, NULL},
  { "tanh.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)tanh1, NULL, NULL},
  { "log10.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)log101, NULL, NULL},
  { "log2.k", S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)log21, NULL, NULL},
  { "int.a",  S(EVAL),0,    2,      "a",    "a",    NULL, (SUBR)int1a, NULL, NULL},
  { "frac.a", S(EVAL),0,    2,      "a",    "a",    NULL, (SUBR)frac1a, NULL, NULL},
  { "round.a",S(EVAL),0,    2,      "a",    "a",    NULL, (SUBR)int1a_round, NULL, NULL},
  { "floor.a",S(EVAL),0,    2,      "a",    "a",    NULL, (SUBR)int1a_floor, NULL, NULL},
  { "ceil.a", S(EVAL),0,    2,      "a",    "a",    NULL, (SUBR)int1a_ceil, NULL, NULL},
  { "abs.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)absa, NULL, NULL},
  { "exp.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)expa, NULL, NULL},
  { "log.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)loga, NULL, NULL},
  { "sqrt.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)sqrta, NULL, NULL},
  { "sin.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)sina, NULL, NULL},
  { "cos.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)cosa, NULL, NULL},
  { "tan.a",  S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)tana, NULL, NULL},
  { "qinf.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)is_infa, NULL, NULL},
  { "qnan.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)is_NaNa, NULL, NULL},
  { "sininv.a", S(EVAL),0,  2,      "a",    "a",    NULL,   (SUBR)asina, NULL, NULL},
  { "cosinv.a", S(EVAL),0,  2,      "a",    "a",    NULL,   (SUBR)acosa, NULL, NULL},
  { "taninv.a", S(EVAL),0,  2,      "a",    "a",    NULL,   (SUBR)atana, NULL, NULL},
  { "taninv2.a",S(AOP),0,   2,      "a",    "aa",   NULL,   (SUBR)atan2aa, NULL, NULL },
  { "sinh.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)sinha, NULL, NULL},
  { "cosh.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)cosha, NULL, NULL},
  { "tanh.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)tanha, NULL, NULL},
  { "log10.a",S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)log10a, NULL, NULL},
  { "log2.a", S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)log2a, NULL, NULL},
  { "ampdb.a",S(EVAL),0,    2,      "a",    "a",    NULL,   (SUBR)aampdb, NULL, NULL},
  { "ampdb.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)ampdb, NULL, NULL, NULL},
  { "ampdb.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)ampdb, NULL, NULL},
  { "ampdbfs.a",S(EVAL),0,  2,      "a",    "a",    NULL,   (SUBR)aampdbfs, NULL, NULL},
  { "ampdbfs.i",S(EVAL),0,  1,      "i",    "i",    (SUBR)ampdbfs, NULL, NULL, NULL},
  { "ampdbfs.k",S(EVAL),0,  2,      "k",    "k",    NULL,   (SUBR)ampdbfs, NULL, NULL},
  { "dbamp.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)dbamp, NULL, NULL, NULL},
  { "dbamp.k",S(EVAL),0,    2,      "k",    "k",    NULL,   (SUBR)dbamp, NULL, NULL},
  { "dbfsamp.i",S(EVAL),0,  1,      "i",    "i",    (SUBR)dbfsamp, NULL, NULL},
  { "dbfsamp.k",S(EVAL),0,  2,      "k",    "k",    NULL,   (SUBR)dbfsamp, NULL, NULL},
  { "rtclock.i",S(EVAL),0,  1,      "i",    "",     (SUBR)rtclock, NULL, NULL},
  { "rtclock.k",S(EVAL),0,  2,      "k",    "",     NULL,   (SUBR)rtclock, NULL, NULL},
  { "ftlen.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)ftlen, NULL, NULL, NULL},
  { "ftsr.i",S(EVAL),0,     1,      "i",    "i",    (SUBR)ftsr, NULL, NULL, NULL},
  { "ftlptim.i",S(EVAL),0,  1,      "i",    "i",    (SUBR)ftlptim, NULL, NULL, NULL},
  { "ftchnls.i",S(EVAL),0,  1,      "i",    "i",    (SUBR)ftchnls, NULL, NULL, NULL},
  { "ftcps.i",S(EVAL),0,    1,      "i",    "i",    (SUBR)ftcps, NULL, NULL, NULL},
  { "i.i",   S(ASSIGN),0,   1,      "i",    "i",    (SUBR)assign, NULL, NULL, NULL},
  { "i.k",   S(ASSIGN),0,   1,      "i",    "k",    (SUBR)assign, NULL, NULL, NULL},
  { "k.i",   S(ASSIGN),0,   1,      "k",    "i",    (SUBR)assign, NULL, NULL, NULL},
  { "k.a",   S(DOWNSAMP),0, 3,      "k",    "ao",   (SUBR)downset,(SUBR)downsamp, NULL, NULL},
  { "cpsoct.i",S(EVAL),0,   1,      "i",    "i",    (SUBR)cpsoct, NULL, NULL, NULL},
  { "octpch.i",S(EVAL),0,   1,      "i",    "i",    (SUBR)octpch, NULL, NULL, NULL},
  { "cpspch.i",S(EVAL),0,   1,      "i",    "i",    (SUBR)cpspch, NULL, NULL, NULL},
  { "pchoct.i",S(EVAL),0,   1,      "i",    "i",    (SUBR)pchoct, NULL, NULL, NULL},
  { "octcps.i",S(EVAL),0,   1,      "i",    "i",    (SUBR)octcps, NULL, NULL, NULL},
  { "cpsoct.k",S(EVAL),0,   2,      "k",    "k",    NULL,   (SUBR)cpsoct, NULL, NULL},
  { "octpch.k",S(EVAL),0,   2,      "k",    "k",    NULL,   (SUBR)octpch, NULL, NULL},
  { "cpspch.k",S(EVAL),0,   2,      "k",    "k",    NULL,   (SUBR)cpspch, NULL, NULL},
  { "pchoct.k",S(EVAL),0,   2,      "k",    "k",    NULL,   (SUBR)pchoct, NULL, NULL},
  { "octcps.k",S(EVAL),0,   2,      "k",    "k",    NULL,   (SUBR)octcps, NULL, NULL},
  { "cpsoct.a",S(EVAL),0,   2,      "a",    "a",    NULL,   (SUBR)acpsoct, NULL, NULL},
  { "cpsmidinn.i",S(EVAL),0,1,      "i",    "i",    (SUBR)cpsmidinn, NULL, NULL, NULL},
  { "octmidinn.i",S(EVAL),0,1,      "i",    "i",    (SUBR)octmidinn, NULL, NULL, NULL},
  { "pchmidinn.i",S(EVAL),0,1,      "i",    "i",    (SUBR)pchmidinn, NULL, NULL, NULL},
  { "cpsmidinn.k",S(EVAL),0,2,      "k",    "k",    NULL,   (SUBR)cpsmidinn, NULL, NULL},
  { "octmidinn.k",S(EVAL),0,2,      "k",    "k",    NULL,   (SUBR)octmidinn, NULL, NULL},
  { "pchmidinn.k",S(EVAL),0,2,      "k",    "k",    NULL,   (SUBR)pchmidinn, NULL, NULL},
  { "notnum", S(MIDIKMB),0, 1,      "i",    "",     (SUBR)notnum, NULL, NULL, NULL},
  { "veloc",  S(MIDIMAP),0, 1,      "i",    "oh",   (SUBR)veloc, NULL, NULL, NULL},
  { "pchmidi",S(MIDIKMB),0, 1,      "i",    "",     (SUBR)pchmidi, NULL, NULL, NULL},
  { "octmidi",S(MIDIKMB),0, 1,      "i",    "",     (SUBR)octmidi, NULL, NULL, NULL},
  { "cpsmidi",S(MIDIKMB),0, 1,      "i",    "",     (SUBR)cpsmidi, NULL, NULL, NULL},
  { "pchmidib.i",S(MIDIKMB),0,1,    "i",    "o",    (SUBR)pchmidib_i, NULL, NULL, NULL},
  { "octmidib.i",S(MIDIKMB),0,1,    "i",    "o",    (SUBR)octmidib_i, NULL, NULL, NULL},
  { "cpsmidib.i",S(MIDIKMB),0,1,    "i",    "o",    (SUBR)icpsmidib_i, NULL, NULL, NULL},
  { "pchmidib.k",S(MIDIKMB),0,3,    "k",    "o",    (SUBR)midibset, (SUBR)pchmidib, NULL, NULL},
  { "octmidib.k",S(MIDIKMB),0,3,    "k",    "o",    (SUBR)midibset, (SUBR)octmidib, NULL, NULL},
  { "cpsmidib.k",S(MIDIKMB),0,3,    "k",    "o",    (SUBR)midibset, (SUBR)icpsmidib, NULL, NULL},
  { "ampmidi",S(MIDIAMP),0, 1,      "i",    "io",   (SUBR)ampmidi, NULL, NULL, NULL},
  { "aftouch",S(MIDIKMAP),0, 3,     "k",    "oh",   (SUBR)aftset, (SUBR)aftouch, NULL, NULL},
  { "pchbend.i",S(MIDIMAP),0,1,     "i",    "jp",   (SUBR)ipchbend, NULL, NULL},
  { "pchbend.k",S(MIDIKMAP),0,3,    "k",    "jp",   (SUBR)kbndset,(SUBR)kpchbend, NULL, NULL},
  { "midictrl.i",S(MIDICTL),0,1,    "i",    "ioh",  (SUBR)imidictl, NULL, NULL},
  { "midictrl.k",S(MIDICTL),0,3,    "k",    "ioh",  (SUBR)mctlset, (SUBR)midictl, NULL, NULL},
  { "polyaft.i",S(MIDICTL),0,1,     "i",    "ioh",  (SUBR)imidiaft, NULL, NULL, NULL},
  { "polyaft.k",S(MIDICTL),0,3,     "k",    "ioh",  (SUBR)maftset, (SUBR)midiaft, NULL, NULL},
  { "chanctrl.i",S(CHANCTL),0,1,    "i",    "iioh", (SUBR)ichanctl, NULL, NULL, NULL},
  { "chanctrl.k",S(CHANCTL),0,3,    "k",    "iioh", (SUBR)chctlset,(SUBR)chanctl, NULL, NULL},
  { "line",   S(LINE),0,    3,      "k",    "iii",  (SUBR)linset, (SUBR)kline,  NULL, NULL},
  { "line.a",   S(LINE),0,    3,    "a",    "iii",  (SUBR)linset,  (SUBR)aline, NULL, NULL},
  { "expon",  S(EXPON),0,   3,      "k",    "iii",  (SUBR)expset, (SUBR)kexpon, NULL, NULL},
  { "expon.a",  S(EXPON),0,   3,      "a",    "iii",  (SUBR)expset, (SUBR)expon, NULL, NULL},
  { "cosseg", S(COSSEG),0,  3,      "k",    "iim",  (SUBR)csgset, (SUBR)kosseg, NULL, NULL},
  { "cosseg.a", S(COSSEG),0,  3,      "a",    "iim",  (SUBR)csgset, (SUBR)cosseg, NULL, NULL},
  { "cossegb", S(COSSEG),0, 3,      "k",    "iim",  (SUBR)csgset_bkpt, (SUBR)kosseg, NULL, NULL},
  { "cossegb.a", S(COSSEG),0, 3,      "a",    "iim",  (SUBR)csgset_bkpt, (SUBR)cosseg, NULL, NULL},
  { "cossegr", S(COSSEG),0,  3,     "k",    "iim",  (SUBR)csgrset, (SUBR)kcssegr, NULL, NULL},
  { "cossegr.a", S(COSSEG),0,  3,     "a",    "iim",  (SUBR)csgrset, (SUBR)cossegr, NULL, NULL},
  { "linseg", S(LINSEG),0,  3,      "k",    "iim",  (SUBR)lsgset, (SUBR)klnseg, NULL, NULL},
  { "linseg.a", S(LINSEG),0,  3,      "a",    "iim",  (SUBR)lsgset, (SUBR)linseg, NULL, NULL},
  { "linsegb", S(LINSEG),0,  3,     "k",    "iim", (SUBR)lsgset_bkpt, (SUBR)klnseg, NULL, NULL},
  { "linsegb.a", S(LINSEG),0,  3,     "a",    "iim", (SUBR)lsgset_bkpt, (SUBR)linseg, NULL, NULL},
  { "linsegr",S(LINSEG),0,  3,      "k",    "iim",  (SUBR)lsgrset,(SUBR)klnsegr,NULL, NULL},
  { "linsegr.a",S(LINSEG),0,  3,      "a",    "iim",  (SUBR)lsgrset,(SUBR)linsegr, NULL, NULL},
  { "expseg", S(EXXPSEG),0,  3,     "k",    "iim",  (SUBR)xsgset, (SUBR)kxpseg, NULL, NULL},
  { "expseg.a", S(EXXPSEG),0,  3,     "a",    "iim",  (SUBR)xsgset, (SUBR)expseg, NULL, NULL},
  { "expsegb", S(EXXPSEG),0,  3,     "k",    "iim",  (SUBR)xsgset_bkpt, (SUBR)kxpseg, NULL, NULL},
  { "expsegb.a", S(EXXPSEG),0, 3,     "a",    "iim",  (SUBR)xsgset_bkpt, (SUBR)expseg, NULL, NULL},
  { "expsega",S(EXPSEG2),0,  3,     "a",    "iim",  (SUBR)xsgset2, (SUBR)expseg2, NULL, NULL},
  { "expsegba",S(EXPSEG2),0,  3,     "a",    "iim",  (SUBR)xsgset2b, (SUBR)expseg2, NULL, NULL},
  { "expsegr",S(EXPSEG),0,  3,      "k",    "iim",  (SUBR)xsgrset,(SUBR)kxpsegr,NULL, NULL},
  { "expsegr.a",S(EXPSEG),0,  3,      "a",    "iim",  (SUBR)xsgrset,(SUBR)expsegr, NULL, NULL},
  { "linen",  S(LINEN),0,   3,      "k",    "kiii", (SUBR)lnnset, (SUBR)klinen, NULL, NULL},
  { "linen.a",  S(LINEN),0,   3,      "a",    "aiii", (SUBR)alnnset, (SUBR)linen, NULL, NULL},
  { "linen.x",  S(LINEN),0,   3,      "a",    "kiii", (SUBR)alnnset, (SUBR)linen, NULL, NULL},
  { "linenr", S(LINENR),0,  3,      "k",    "kiii", (SUBR)lnrset, (SUBR)klinenr,NULL, NULL},
  { "linenr.a", S(LINENR),0,  3,      "a",    "aiii", (SUBR)alnrset,(SUBR)linenr, NULL, NULL},
  { "linenr.x", S(LINENR),0,  3,      "a",    "kiii", (SUBR)alnrset,(SUBR)linenr, NULL, NULL},
  { "envlpx", S(ENVLPX), TR, 3,     "k","kiiiiiio", (SUBR)evxset, (SUBR)knvlpx, NULL, NULL},
  { "envlpxr", S(ENVLPR),TR, 3,     "k","kiiiiioo", (SUBR)evrset, (SUBR)knvlpxr, NULL, NULL},
  { "envlpx.a", S(ENVLPX), TR, 3,     "a","aiiiiiio", (SUBR)aevxset,(SUBR)envlpx, NULL, NULL},
  { "envlpxr.a", S(ENVLPR),TR, 3,     "a","aiiiiioo", (SUBR)aevrset,(SUBR)envlpxr, NULL, NULL},
  { "envlpx.x", S(ENVLPX), TR, 3,     "a","kiiiiiio", (SUBR)aevxset,(SUBR)envlpx, NULL, NULL},
  { "envlpxr.x", S(ENVLPR),TR, 3,     "a","kiiiiioo", (SUBR)aevrset,(SUBR)envlpxr, NULL, NULL},
  { "phasor", S(PHSOR),0,   3,       "a",   "xo",   phsset, phsor, NULL, NULL},
  { "phasor.k", S(PHSOR),0,   3,     "k",   "ko",   phsset, kphsor, NULL, NULL},
  { "ephasor", S(EPHSOR), 0,  3,     "aa",  "xko",  ephsset, ephsor, NULL, NULL},
  { "signum.i", S(ASSIGN), 0, 1,     "i",   "i", (SUBR)signum, NULL, NULL, NULL},
  { "signum.k", S(ASSIGN), 0, 3,     "k",   "k", (SUBR)signum, (SUBR)signum, NULL, NULL},
  { "signum.a", S(ASSIGN), 0, 2,     "a",   "a", NULL, (SUBR)asignum, NULL, NULL},
  { "table.i",  S(TABL),TR, 1,      "i",    "iiooo",(SUBR)tabler_init, NULL, NULL, NULL},
  { "table.k",  S(TABL),TR, 3,      "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tabler_kontrol, NULL, NULL},
  { "table.a",  S(TABL),TR, 3,      "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tabler_audio, NULL, NULL},
  { "tablei.i", S(TABL),TR, 1,      "i",    "iiooo",(SUBR)tableir_init, NULL, NULL, NULL},
  { "tablei.k", S(TABL),TR, 3,      "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tableir_kontrol, NULL, NULL},
  { "tablei.a", S(TABL),TR, 3,      "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tableir_audio, NULL, NULL},
  { "table3.i", S(TABL),TR, 1,      "i",    "iiooo",(SUBR)table3r_init, NULL, NULL, NULL},
  { "table3.k", S(TABL),TR, 3,      "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)table3r_kontrol, NULL, NULL},
  { "table3.a", S(TABL),TR, 3,      "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)table3r_audio, NULL, NULL},
  { "ptable.i",  S(TABLE),TR|_QQ, 1,"i",    "iiooo",(SUBR)tabler_init, NULL, NULL, NULL},
  { "ptable.k",  S(TABLE),TR|_QQ, 3,     "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tabler_kontrol, NULL, NULL},
  { "ptable.a",  S(TABLE),TR|_QQ, 3,     "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tabler_audio, NULL, NULL},
  { "ptablei.i", S(TABLE),TR|_QQ, 1,"i",    "iiooo",(SUBR)tableir_init, NULL, NULL, NULL},
  { "ptablei.k", S(TABLE),TR|_QQ, 3,     "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tableir_kontrol, NULL, NULL},
  { "ptablei.a", S(TABLE),TR|_QQ, 3,     "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)tableir_audio, NULL, NULL},
  { "ptable3.i", S(TABLE),TR|_QQ, 1,"i",    "iiooo",(SUBR)table3r_init, NULL, NULL, NULL},
  { "ptable3.k", S(TABLE),TR|_QQ, 3,     "k",    "xiooo",(SUBR)tabl_setup,
    (SUBR)table3r_kontrol, NULL, NULL},
  { "ptable3.a", S(TABLE),TR|_QQ, 3,     "a",    "xiooo",(SUBR)tabl_setup,
    (SUBR)table3r_audio, NULL, NULL},
  { "oscil1", S(OSCIL1), TR, 3,     "k",    "ikij", ko1set, kosc1, NULL, NULL},
  { "oscil1i",S(OSCIL1), TR, 3,     "k",    "ikij", ko1set, kosc1i, NULL, NULL},
  { "osciln", S(OSCILN), TR, 3,     "a",    "kiii", oscnset,   osciln, NULL, NULL},
  { "oscil.a",S(OSC),TR,    3,       "a",    "kkjo", oscset,   osckk, NULL, NULL},
  { "oscil.kkk",S(OSC),TR,   3,      "k",    "kkjo", oscset, koscil, NULL, NULL},
  { "oscil.kka",S(OSC),TR,   3,      "a",    "kkjo", oscset, osckk, NULL, NULL},
  { "oscil.ka",S(OSC),TR,    3,      "a",    "kajo", oscset,   oscka, NULL, NULL},
  { "oscil.ak",S(OSC),TR,    3,      "a",    "akjo", oscset,   oscak, NULL, NULL},
  { "oscil.aa",S(OSC),TR,    3,      "a",    "aajo", oscset,   oscaa, NULL, NULL},
  { "oscil.kkA",S(OSC),0,   3,      "k",    "kki[]o", oscsetA, koscil, NULL, NULL},
  { "oscil.kkA",S(OSC),0,   3,      "a",    "kki[]o", oscsetA, osckk, NULL, NULL},
  { "oscil.kaA",S(OSC),0,   3,      "a",    "kai[]o", oscsetA, oscka, NULL, NULL},
  { "oscil.akA",S(OSC),0,   3,      "a",    "aki[]o", oscsetA, oscak, NULL, NULL},
  { "oscil.aaA",S(OSC),0,   3,      "a",    "aai[]o", oscsetA,oscaa, NULL, NULL},
  /* Change these to
     { "oscil.kkk", S(POSC),TR, 3, "k", "kkjo", posc_set, kposc         },
     { "oscil.kka", S(POSC),TR, 3,, "a", "kkjo"_set, NULL, posckk },
     { "oscil.ka", S(POSC),TR, 3, "a", "kajo", posc_set,  poscka },
     { "oscil.ak", S(POSC),TR, 3, "a", "akjo", posc_set,  poscak },
     { "oscil.aa", S(POSC),TR, 3, "a", "aajo", posc_set,  poscaa },
     { "oscil3.kk",  S(POSC),TR,  7, "s", "kkjo", posc_set, kposc3, posc3 },
  */
  { "oscili.a",S(OSC),TR,   3,      "a",    "kkjo", oscset, osckki, NULL, NULL},
  { "oscili.kk",S(OSC),TR,   3,      "k",   "kkjo", oscset, koscli, NULL, NULL},
  { "oscili.ka",S(OSC),TR,   3,      "a",   "kajo", oscset,   osckai, NULL, NULL},
  { "oscili.ak",S(OSC),TR,   3,      "a",   "akjo", oscset,   oscaki, NULL, NULL},
  { "oscili.aa",S(OSC),TR,   3,      "a",   "aajo", oscset,   oscaai, NULL, NULL},
  { "oscili.aA",S(OSC),0,   3,      "a",   "kki[]o", oscsetA, osckki, NULL, NULL},
  { "oscili.kkA",S(OSC),0,   3,      "k",  "kki[]o", oscsetA, koscli, NULL, NULL},
  { "oscili.kaA",S(OSC),0,   3,      "a",  "kai[]o", oscsetA,   osckai, NULL, NULL},
  { "oscili.akA",S(OSC),0,   3,      "a",  "aki[]o", oscsetA,   oscaki, NULL, NULL},
  { "oscili.aaA",S(OSC),0,   3,      "a",  "aai[]o", oscsetA,   oscaai, NULL, NULL},
  { "oscil3.a",S(OSC),TR,   3,      "a",    "kkjo", oscset, osckk3, NULL, NULL},
  { "oscil3.kk",S(OSC),TR,   3,      "k",   "kkjo", oscset, koscl3, NULL, NULL},
  { "oscil3.ka",S(OSC),TR,   3,      "a",   "kajo", oscset,   oscka3, NULL, NULL},
  { "oscil3.ak",S(OSC),TR,   3,      "a",   "akjo", oscset,   oscak3, NULL, NULL},
  { "oscil3.aa",S(OSC),TR,   3,      "a",   "aajo", oscset,   oscaa3, NULL, NULL},
  { "oscil3.aA",S(OSC),0,   3,      "a",   "kki[]o", oscsetA, osckk3, NULL, NULL},
  { "oscil3.kkA",S(OSC),0,   3,      "k",  "kki[]o", oscsetA, koscl3, NULL, NULL},
  { "oscil3.kaA",S(OSC),0,   3,      "a",  "kai[]o", oscsetA, oscka3, NULL, NULL},
  { "oscil3.akA",S(OSC),0,   3,      "a",  "aki[]o", oscsetA, oscak3, NULL, NULL},
  { "oscil3.aaA",S(OSC),0,   3,      "a",  "aai[]o", oscsetA, oscaa3, NULL, NULL},
  /* end change */
  { "foscil", S(FOSC),TR,  3,      "a",  "xkxxkjo",foscset,   foscil, NULL, NULL},
  { "foscili",S(FOSC),TR,  3,      "a",  "xkxxkjo",foscset,   foscili, NULL, NULL},
  { "loscil", S(LOSC),TR,  3,      "mm","xkjojoojoo",losset, loscil, NULL, NULL},
  { "loscilphs", S(LOSCPHS),TR,  3, "amm","xkjojoojoo",losset_phs, loscil_phs, NULL, NULL},
  { "loscil3phs", S(LOSCPHS),TR,  3,"amm","xkjojoojoo",losset_phs, loscil3_phs, NULL, NULL},
  { "loscil3", S(LOSC),TR,  3,      "mm","xkjojoojoo",losset, loscil3, NULL, NULL},
  { "adsyn",  S(ADSYN),0,   3,      "a",    "kkkSo", adset_S,   adsyn, NULL, NULL},
  { "adsyn.i",  S(ADSYN),0,   3,      "a",    "kkkio", adset,   adsyn, NULL, NULL},
  { "buzz",   S(BUZZ),TR,  3,      "a",  "xxkio",  bzzset,   buzz, NULL, NULL},
  { "gbuzz",  S(GBUZZ),TR,  3,      "a",  "xxkkkio",gbzset,   gbuzz, NULL, NULL},
  { "pluck",  S(PLUCK), TR, 3,      "a",  "kkiiioo",plukset,   pluck, NULL, NULL},
  { "rand",   S(RAND),0,    3,      "a",    "xvoo", rndset,  arand, NULL, NULL},
  { "rand.k",   S(RAND),0,    3,      "k",    "xvoo", rndset, krand,  NULL, NULL},
  { "randh",  S(RANDH),0,   3,      "a",    "xxvoo", rhset, randh, NULL, NULL},
  { "randh.k",  S(RANDH),0,   3,      "k",    "xxvoo", rhset, krandh, NULL, NULL},
  { "randi",  S(RANDI),0,   3,      "a",    "xxvoo", riset, randi, NULL, NULL},
  { "randi.k",  S(RANDI),0, 3,      "k",    "xxvoo", riset, krandi, NULL, NULL},
  { "randc",  S(RANDC),0,   3,      "a",    "xxvoo", rcset, randc, NULL, NULL},
  { "randc.k",  S(RANDC),0, 3,      "k",    "xxvoo", rcset, krandc, NULL, NULL},
  { "port",   S(PORT),0,    3,      "k",    "kio",  porset, port, NULL, NULL},
  { "tone.k", S(TONE),0,    3,      "a",    "ako",  tonset,   tone, NULL, NULL},
  { "tonex.k",S(TONEX),0,   3,      "a",    "akoo", tonsetx,  tonex, NULL, NULL},
  { "atone.k",  S(TONE),0,  3,      "a",    "ako",  tonset,   atone, NULL, NULL},
  { "atonex.k", S(TONEX),0, 3,      "a",    "akoo", tonsetx,  atonex, NULL, NULL},
  { "reson", S(RESON),   0, 3,      "a",    "axxoo", rsnset,  reson, NULL, NULL},
  { "resonx", S(RESONX),0,  3,      "a",    "axxooo", rsnsetx, resonx, NULL, NULL},
  { "areson.kk", S(RESON),0,3,      "a",    "akkoo",rsnset,   areson, NULL, NULL},
  { "lpread", S(LPREAD),0,  3,      "kkkk", "kSoo", lprdset_S,lpread, NULL, NULL},
  { "lpread.i", S(LPREAD),0,  3,      "kkkk", "kioo", lprdset,lpread, NULL, NULL},
  { "lpform", S(LPFORM),0,  3,      "kk", "k",     lpformantset,lpformant, NULL, NULL},
  { "lpreson",S(LPRESON),0, 3,      "a",    "a",    lprsnset,  lpreson, NULL, NULL},
  { "lpfreson",S(LPFRESON),0,3,     "a",    "ak",   lpfrsnset, lpfreson, NULL, NULL},
  { "lpslot"  ,  S(LPSLOT),0,  1,   "",     "i",    lpslotset, NULL, NULL, NULL},
  { "lpinterp", S(LPINTERPOL),0, 3, "",     "iik",  lpitpset, lpinterpol, NULL, NULL},
  { "rms",    S(RMS),0,     3,      "k",    "aqo",  rmsset, rms, NULL, NULL},
  { "gain",   S(GAIN),0,    3,      "a",    "akqo", gainset,   gain, NULL, NULL},
  { "balance",S(BALANCE),0, 3,      "a",    "aaqo", balnset,   balance, NULL, NULL},
  { "balance2",S(BALANCE),0, 3,      "a",    "aaqo", balnset,   balance2, NULL, NULL},
  { "pan",    S(PAN),0,   3, "aaaa", "akkioo",(SUBR)panset, (SUBR)pan, NULL, NULL},
  { "soundin",S(DISKIN2),0,3,"mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm","Soooo",
    (SUBR)sndinset_S, (SUBR)soundin, NULL, NULL},
  { "soundin.i",S(DISKIN2),0,3,"mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm","ioooo",
    (SUBR)sndinset, (SUBR)soundin, NULL, NULL},
  { "soundout",S(SNDOUT), _QQ, 3,   "",    "aSo",  (SUBR)sndoutset_S, (SUBR)soundout, NULL, NULL},
  { "soundout.i",S(SNDOUT), _QQ, 3,   "",    "aio",  (SUBR)sndoutset, (SUBR)soundout, NULL, NULL},
  { "soundouts",S(SNDOUTS),_QQ, 3,  "",    "aaSo", (SUBR)sndoutset_S, (SUBR)soundouts, NULL, NULL},
  { "soundouts.i",S(SNDOUTS),_QQ, 3,  "",    "aaio", (SUBR)sndoutset, (SUBR)soundouts, NULL, NULL},
  { "in.a",   S(INM),0,     2,      "a",    "",     NULL,   (SUBR)in, NULL, NULL},
  { "in.s",   S(INS),0,     2,      "aa",    "",     NULL,   (SUBR)ins, NULL, NULL},
  { "in.A",   S(INA),0,     2,      "a[]",  "",     NULL,   (SUBR)inarray, NULL, NULL},
  { "ins",    S(INS),0,     2,      "aa",   "",     NULL,   (SUBR)ins, NULL, NULL},
  { "inq",    S(INQ),0,     2,      "aaaa", "",     NULL,   (SUBR)inq, NULL, NULL},
  { "out.a",  S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "out.A",  S(OUTARRAY),IR, 3,      "",     "a[]",  (SUBR)outarr_init,  (SUBR)outarr, NULL, NULL},
  { "outs",   S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "outq",   S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "outh",   S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "outo",   S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "outx",   S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "out32",  S(OUTX),IR,     3,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "outs1",  S(OUTM),IR,    2,      "",     "a",    NULL,   (SUBR)outs1, NULL, NULL},
  { "outs2",  S(OUTM),IR,    3,      "",     "a",    (SUBR)och2,   (SUBR)outs2, NULL, NULL},
  { "outq1",  S(OUTM),IR,    2,      "",     "a",    NULL,   (SUBR)outs1, NULL, NULL},
  { "outq2",  S(OUTM),IR,    3,      "",     "a",    (SUBR)och2,   (SUBR)outs2, NULL, NULL},
  { "outq3",  S(OUTM),IR,    3,      "",     "a",    (SUBR)och3,   (SUBR)outq3, NULL, NULL},
  { "outq4",  S(OUTM),IR,    3,      "",     "a",    (SUBR)och2,   (SUBR)outq4, NULL, NULL},
  { "outall", S(OUTM),IR,    2,      "",     "a",    NULL,   (SUBR)outrep, NULL, NULL},
  { "igoto",  S(GOTO),0,    1,      "",     "l",    (SUBR)igoto, NULL, NULL, NULL},
  { "kgoto",  S(GOTO),0,    2,      "",     "l",    NULL,   (SUBR)kgoto, NULL, NULL},
  { "goto",   S(GOTO),0,    3,      "",     "l",    (SUBR)igoto,  (SUBR)kgoto, NULL, NULL},
  { "cigoto", S(CGOTO),0,   1,      "",     "Bl",   (SUBR)icgoto, NULL, NULL, NULL},
  { "ckgoto", S(CGOTO),0,   2,      "",     "Bl",   NULL,   (SUBR)kcgoto, NULL, NULL},
  { "cggoto.0", S(CGOTO),0, 3,      "",     "Bl",   (SUBR)icgoto, (SUBR)kcgoto, NULL, NULL},
  { "timout", S(TIMOUT),0,  3,      "",     "iil",  (SUBR)timset, (SUBR)timout, NULL, NULL},
  { "reinit", S(GOTO),0,    2,      "",     "l",    NULL,   (SUBR)reinit, NULL, NULL},
  { "rigoto", S(GOTO),0,    1,      "",     "l",    (SUBR)rigoto, NULL, NULL, NULL},
  { "rireturn",S(LINK),0,   1,      "",     "",     (SUBR)rireturn, NULL, NULL, NULL},
  { "tigoto", S(GOTO),0,    1,      "",     "l",    (SUBR)tigoto, NULL, NULL, NULL},
  { "tival",  S(EVAL),0,    1,      "i",    "",     (SUBR)tival, NULL, NULL, NULL},
  { "print",  S(PRINTV),WR, 1,      "",     "m",    (SUBR)printv, NULL, NULL, NULL},
  { "display.k",S(DSPLAY),0,  3,    "",     "kioo", (SUBR)dspset, (SUBR)kdsplay,NULL, NULL},
  { "display.a",S(DSPLAY),0,  3,    "",     "aioo", (SUBR)dspset ,(SUBR)dsplay, NULL, NULL},
  { "pvsdisp",S(FSIGDISP),0,  3,    "",     "foo", (SUBR)fdspset, (SUBR)fdsplay,NULL, NULL},
  { "dispfft.k",S(DSPFFT),0,  3,    "",     "kiiooooo",(SUBR)fftset,(SUBR)kdspfft,NULL, NULL},
  { "dispfft.a",S(DSPFFT),0,  3,    "",     "aiiooooo",(SUBR)fftset,(SUBR)dspfft, NULL, NULL},
  { "dumpk",  S(KDUMP),0,   3,      "",     "kSii", (SUBR)kdmpset_S,(SUBR)kdump, NULL, NULL},
  { "dumpk2", S(KDUMP2),0,  3,      "",     "kkSii",(SUBR)kdmp2set_S,(SUBR)kdump2, NULL, NULL},
  { "dumpk3", S(KDUMP3),0,  3,      "",     "kkkSii",(SUBR)kdmp3set_S,(SUBR)kdump3, NULL, NULL},
  { "dumpk4", S(KDUMP4),0,  3,      "",     "kkkkSii",(SUBR)kdmp4set_S,(SUBR)kdump4, NULL, NULL},
  { "dumpk.i",  S(KDUMP),0,   3,      "",     "kiii", (SUBR)kdmpset_p,(SUBR)kdump, NULL, NULL},
  { "dumpk2.i", S(KDUMP2),0,  3,      "",     "kkiii",(SUBR)kdmp2set_p,(SUBR)kdump2, NULL, NULL},
  { "dumpk3.i", S(KDUMP3),0,  3,      "",     "kkkiii",(SUBR)kdmp3set_p,(SUBR)kdump3, NULL, NULL},
  { "dumpk4.i", S(KDUMP4),0,  3,      "",     "kkkkiii",(SUBR)kdmp4set_p,(SUBR)kdump4, NULL, NULL},
  { "readk",  S(KREAD),0,   3,      "k",    "Sii",   (SUBR)krdset_S, (SUBR)kread, NULL, NULL},
  { "readk2", S(KREAD2),0,  3,      "kk",   "Sii",   (SUBR)krd2set_S, (SUBR)kread2, NULL, NULL},
  { "readk3", S(KREAD3),0,  3,      "kkk",  "Sii",   (SUBR)krd3set_S, (SUBR)kread3, NULL, NULL},
  { "readk4", S(KREAD4),0,  3,      "kkkk", "Sii",   (SUBR)krd4set_S, (SUBR)kread4, NULL, NULL},
  { "readk.i",  S(KREAD),0,   3,      "k",    "iii",   (SUBR)krdset_p, (SUBR)kread, NULL, NULL},
  { "readk2.i", S(KREAD2),0,  3,      "kk",   "iii",   (SUBR)krd2set_p, (SUBR)kread2, NULL, NULL},
  { "readk3.i", S(KREAD3),0,  3,      "kkk",  "iii",   (SUBR)krd3set_p, (SUBR)kread3, NULL, NULL},
  { "readk4.i", S(KREAD4),0,  3,      "kkkk", "iii",   (SUBR)krd4set_p, (SUBR)kread4, NULL, NULL},
  { "readks", S(KREADS),0,  3,      "S",    "Si",    (SUBR)krdsset_S, (SUBR)kreads, NULL, NULL},
  { "readks.i", S(KREADS),0,  3,      "S",    "ii",    (SUBR)krdsset_p, (SUBR)kreads, NULL, NULL},
  { "xyin",   S(XYIN), _QQ, 1,      "kk",   "iiiiioo",(SUBR)xyinset,NULL, NULL, NULL},
  { "tempest",  S(TEMPEST),0, 3,    "k","kiiiiiiiiiop",(SUBR)tempeset,(SUBR)tempest, NULL, NULL},
  { "tempo",    S(TEMPO),0,   3,    "",     "ki",   tempset,tempo, NULL, NULL},
  { "pow.i",    S(POW),0,   1,      "i",    "iip",  (SUBR)ipow,    NULL,  NULL, NULL},
  { "pow.k",    S(POW),0,   2,      "k",    "kkp",  NULL,    (SUBR)ipow,  NULL, NULL},
  { "pow.a",    S(POW),0,   2,      "a",    "akp",  NULL,  (SUBR)apow, NULL, NULL},
  { "##pow.i",  S(POW),0,   1,      "i",    "iip",  (SUBR)ipow,    NULL,  NULL, NULL},
  { "##pow.k",  S(POW),0,   2,      "k",    "kkp",  NULL,    (SUBR)ipow,  NULL, NULL},
  { "##pow.a",  S(POW),0,   2,      "a",    "akp",  NULL,  (SUBR)apow, NULL, NULL},
  { "oscilx",   S(OSCILN), TR, 3,   "a",    "kiii", oscnset,   osciln, NULL, NULL},
  { "linrand.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)iklinear, NULL, NULL, NULL},
  { "linrand.k",S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)iklinear, NULL, NULL},
  { "linrand.a",S(PRAND),0, 2,      "a",    "k",    NULL,     (SUBR)alinear, NULL, NULL},
  { "trirand.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)iktrian, NULL,  NULL, NULL},
  { "trirand.k",S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)iktrian,  NULL, NULL},
  { "trirand.a",S(PRAND),0, 2,      "a",    "k",    NULL,     (SUBR)atrian, NULL, NULL},
  { "exprand.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)ikexp, NULL,    NULL, NULL},
  { "exprand.k",S(PRAND),0, 2,      "k",    "k",    NULL,    (SUBR)ikexp, NULL, NULL},
  { "exprand.a",S(PRAND),0, 2,      "a",    "k",    NULL,     (SUBR)aexp, NULL, NULL},
  { "bexprnd.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)ikbiexp, NULL,  NULL, NULL},
  { "bexprnd.k",S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)ikbiexp,  NULL, NULL},
  { "bexprnd.a",S(PRAND),0, 2,      "a",    "k",    NULL,     (SUBR)abiexp, NULL, NULL},
  { "cauchy.i", S(PRAND),0, 1,      "i",    "k",    (SUBR)ikcauchy, NULL, NULL, NULL},
  { "cauchy.k", S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)ikcauchy, NULL, NULL},
  { "cauchy.a", S(PRAND),0, 2,      "a",    "k",    NULL,  (SUBR)acauchy, NULL, NULL},
  { "pcauchy.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)ikpcauchy, NULL,NULL, NULL},
  { "pcauchy.k",S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)ikpcauchy,NULL, NULL},
  { "pcauchy.a",S(PRAND),0, 2,      "a",    "k",    NULL,  (SUBR)apcauchy, NULL, NULL},
  { "poisson.i",S(PRAND),0, 1,      "i",    "k",    (SUBR)ikpoiss, NULL,  NULL, NULL},
  { "poisson.k",S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)ikpoiss,  NULL, NULL},
  { "poisson.a",S(PRAND),0, 2,      "a",    "k",    NULL,  (SUBR)apoiss, NULL, NULL},
  { "gauss.i" , S(PRAND),0, 1,      "i",    "k",    (SUBR)ikgaus,  NULL,  NULL, NULL},
  { "gauss.k" , S(PRAND),0, 2,      "k",    "k",    NULL, (SUBR)ikgaus,   NULL, NULL},
  { "gauss.a" , S(PRAND),0, 2,      "a",    "k",    NULL,  (SUBR)agaus, NULL, NULL},
  { "gauss.iii" , S(GAUSS),0, 1,      "i",    "ii",    (SUBR)gauss_scalar,  NULL,  NULL, NULL},
  { "gauss.kkk" , S(GAUSS),0, 2,      "k",    "kk",    NULL, (SUBR)gauss_scalar,   NULL, NULL},
  { "gauss.akk" , S(GAUSS),0, 2,      "a",    "kk",    NULL, (SUBR)gauss_vector, NULL, NULL},
  { "weibull.i",S(PRAND),0, 1,      "i",    "kk",   (SUBR)ikweib,  NULL,  NULL, NULL},
  { "weibull.k",S(PRAND),0, 2,      "k",    "kk",   NULL, (SUBR)ikweib,   NULL, NULL},
  { "weibull.a",S(PRAND),0, 2,      "a",    "kk",   NULL,  (SUBR)aweib, NULL, NULL},
  { "betarand.i",S(PRAND),0,1,      "i",    "kkk",  (SUBR)ikbeta, NULL,  NULL, NULL},
  { "betarand.k",S(PRAND),0,2,      "k",    "kkk",  NULL,   (SUBR)ikbeta,NULL, NULL},
  { "betarand.a",S(PRAND),0,2,      "a",    "kkk",  NULL,  (SUBR)abeta, NULL, NULL},
  { "seed",     S(PRAND),0, 1,      "",     "i",    (SUBR)seedrand, NULL, NULL, NULL},
  { "getseed.i",S(GETSEED),0, 1,    "i",     "",    (SUBR)getseed, NULL, NULL, NULL},
  { "getseed.k",S(GETSEED),0, 3,    "k",     "",    (SUBR)getseed, (SUBR)getseed, NULL, NULL},
  { "unirand.i",S(PRAND),0, 1,     "i",     "k",    (SUBR)ikuniform, NULL,  NULL, NULL},
  { "unirand.k",S(PRAND),0, 2,     "k",     "k",    NULL,    (SUBR)ikuniform, NULL, NULL},
  { "unirand.a",S(PRAND),0, 2,     "a",     "k",    NULL, (SUBR)auniform, NULL, NULL},
  { "diskin",S(DISKIN2_ARRAY),0, 3,    "a[]",
    "SPooooooo",
    (SUBR) diskin_init_array_S,
    (SUBR) diskin2_perf_array, NULL, NULL},
  { "diskin2",S(DISKIN2_ARRAY),0, 3, "a[]",
    "SPooooooo",
    (SUBR) diskin2_init_array_S,
    (SUBR) diskin2_perf_array, NULL, NULL},
  { "diskin.i",S(DISKIN2_ARRAY),0, 3,    "a[]",
    "iPooooooo",
    (SUBR) diskin_init_array_I,
    (SUBR) diskin2_perf_array, NULL, NULL},
  { "diskin2.i",S(DISKIN2_ARRAY),0, 3, "a[]",
    "iPooooooo",
    (SUBR) diskin2_init_array_I,
    (SUBR) diskin2_perf_array, NULL, NULL},
  { "diskin",S(DISKIN2),0, 3,    "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "SPooooooo",
    (SUBR) diskin_init_S,
    (SUBR) diskin2_perf, NULL, NULL},
  { "diskin2",S(DISKIN2),0, 3, "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "SPooooooo",
    (SUBR) diskin2_init_S,
    (SUBR) diskin2_perf, NULL, NULL},
  { "diskin.i",S(DISKIN2),0, 3,    "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "iPooooooo",
    (SUBR) diskin_init,
    (SUBR) diskin2_perf, NULL, NULL},
  { "diskin2.i",S(DISKIN2),0, 3, "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "iPooooooo",
    (SUBR) diskin2_init,
    (SUBR) diskin2_perf, NULL, NULL},
  { "noteon", S(OUT_ON),0,  1,      "",     "iii",  (SUBR)iout_on, NULL,   NULL, NULL},
  { "noteoff", S(OUT_ON),0, 1,      "",     "iii",  (SUBR)iout_off, NULL,    NULL, NULL},
  { "noteondur",S(OUT_ON_DUR),0,3,  "", "iiii", (SUBR)iout_on_dur_set,(SUBR)iout_on_dur,NULL, NULL},
  { "noteondur2",S(OUT_ON_DUR),0,3, "", "iiii", (SUBR)iout_on_dur_set,(SUBR)iout_on_dur2,NULL, NULL},
  { "moscil",S(MOSCIL),0,   3,      "",     "kkkkk",(SUBR)moscil_set, (SUBR)moscil, NULL, NULL},
  { "midion",S(KOUT_ON),0,  3,      "", "kkk", (SUBR)kvar_out_on_set,(SUBR)kvar_out_on,NULL, NULL},
  { "outic",S(OUT_CONTR),0, 1,      "",     "iiiii", (SUBR)out_controller, NULL, NULL, NULL},
  { "outkc",S(OUT_CONTR),0, 2,      "",     "kkkkk", NULL, (SUBR)out_controller, NULL, NULL},
  { "outic14",S(OUT_CONTR14),0,1,   "",     "iiiiii",(SUBR)out_controller14, NULL,NULL, NULL},
  { "outkc14",S(OUT_CONTR14),0,2,   "",     "kkkkkk",NULL, (SUBR)out_controller14, NULL, NULL},
  { "outipb",S(OUT_PB),0,   1,      "",     "iiii", (SUBR)out_pitch_bend, NULL , NULL, NULL},
  { "outkpb",S(OUT_PB),0,   2,      "",     "kkkk", NULL,  (SUBR)out_pitch_bend, NULL, NULL},
  { "outiat",S(OUT_ATOUCH),0,1,     "",     "iiii", (SUBR)out_aftertouch, NULL , NULL, NULL},
  { "outkat",S(OUT_ATOUCH),0,2,     "",     "kkkk", NULL,  (SUBR)out_aftertouch, NULL, NULL},
  { "outipc",S(OUT_PCHG),0, 1,      "",     "iiii", (SUBR)out_progchange, NULL , NULL, NULL},
  { "outkpc",S(OUT_PCHG),0, 2,      "",     "kkkk", NULL,  (SUBR)out_progchange, NULL, NULL},
  { "outipat",S(OUT_POLYATOUCH),0,1,"",    "iiiii", (SUBR)out_poly_aftertouch, NULL,NULL, NULL},
  { "outkpat",S(OUT_POLYATOUCH),0,2,"",    "kkkkk", NULL, (SUBR)out_poly_aftertouch,NULL, NULL},
  { "release",S(REL),0,     3,      "k",    "",     (SUBR)release_set, (SUBR)release, NULL, NULL},
  { "xtratim",S(XTRADUR),0, 1,      "",     "i",    (SUBR)xtratim,    NULL,     NULL, NULL},
  { "mclock", S(MCLOCK),0,  3,      "",     "i",    (SUBR)mclock_set, (SUBR)mclock,   NULL, NULL},
  { "mrtmsg", S(XTRADUR),0, 1,      "",     "i",    (SUBR)mrtmsg,     NULL,     NULL, NULL},
  { "midiout",S(MIDIOUT),0,  2,     "",     "kkkk", NULL, (SUBR)midiout,   NULL, NULL},
  { "midiout_i",S(MIDIOUT), 0,  1,     "",     "iiii", (SUBR)midiout,   NULL, NULL, NULL},
  { "midion2", S(KON2),0,    3,     "",     "kkkk", (SUBR)kon2_set, (SUBR)kon2,   NULL, NULL},
  { "nrpn",   S(NRPN),0,     2,     "",     "kkk",  NULL,  (SUBR)nrpn ,NULL, NULL},
  { "mdelay", S(MDELAY),0,   3,     "",     "kkkkk",(SUBR)mdelay_set, (SUBR)mdelay,   NULL, NULL},
  { "nsamp.i", S(EVAL),0,    1,     "i",    "i",    (SUBR)numsamp, NULL, NULL, NULL},
  { "powoftwo.i",S(EVAL),0,  1,     "i",    "i",    (SUBR)powoftwo, NULL, NULL, NULL},
  { "powoftwo.k",S(EVAL),0,  2,     "k",    "k",    NULL, (SUBR)powoftwo, NULL, NULL},
  { "powoftwo.a",S(EVAL),0,  2,     "a",    "a",    NULL, (SUBR)powoftwoa, NULL, NULL},
  { "logbtwo.i",S(EVAL),0,   1,     "i",    "i",    (SUBR)ilogbasetwo, NULL, NULL, NULL},
  { "logbtwo.k",S(EVAL),0,   3,     "k",    "k",    (SUBR)logbasetwo_set, (SUBR)logbasetwo, NULL, NULL},
  { "logbtwo.a",S(EVAL),0,   3,     "a",    "a",
    (SUBR)logbasetwo_set, (SUBR)logbasetwoa, NULL, NULL},
  { "filelen", S(SNDINFO),0, 1,     "i",    "Sp",   filelen_S, NULL, NULL, NULL},
  { "filenchnls", S(SNDINFO),0, 1,  "i",    "Sp",   filenchnls_S, NULL, NULL, NULL},
  { "filesr", S(SNDINFO),0,  1,     "i",    "Sp",   filesr_S, NULL, NULL, NULL},
  { "filebit", S(SNDINFO),0,  1,     "i",   "Sp",   filebit_S, NULL, NULL, NULL},
  { "filepeak", S(SNDINFOPEAK),0, 1, "i",   "So",   filepeak_S, NULL, NULL, NULL},
  { "filevalid", S(FILEVALID),0, 1,  "i",   "S",    filevalid_S, NULL, NULL, NULL},
  { "filelen.i", S(SNDINFO),0, 1,     "i",    "ip",   filelen, NULL, NULL, NULL},
  { "filenchnls.i", S(SNDINFO),0, 1,  "i",    "ip",   filenchnls, NULL, NULL, NULL},
  { "filesr.i", S(SNDINFO),0,  1,     "i",    "ip",   filesr, NULL, NULL, NULL},
  { "filebit.i", S(SNDINFO),0,  1,     "i",   "ip",   filebit, NULL, NULL, NULL},
  { "filepeak.i", S(SNDINFOPEAK),0, 1, "i",   "io",   filepeak, NULL, NULL, NULL},
  { "filevalid.i", S(FILEVALID),0, 1,  "i",   "i",    filevalid, NULL, NULL, NULL},
  { "filevalid.k", S(FILEVALID),0, 2,  "k",   "S",    NULL, filevalid_S, NULL, NULL},
  { "filevalid.k", S(FILEVALID),0, 2,  "k",   "i",    NULL, filevalid, NULL, NULL},
  /*  { "nlalp", S(NLALP),0,     3,     "a",  "akkoo", nlalp_set, nlalp }, */
  { "ptableiw",  S(TABLEW),TW|_QQ, 1, "", "iiiooo", (SUBR)tablew_init, NULL, NULL, NULL},
  { "ptablew.kk", S(TABLEW),TB,  3,  "", "kkiooo",(SUBR)tabl_setup,
    (SUBR)tablew_kontrol, NULL, NULL},
  { "ptablew.aa", S(TABLEW),TB,  3,  "", "aaiooo",(SUBR)tabl_setup,
    (SUBR)tablew_audio, NULL, NULL},
  { "tableiw",  S(TABL),TW|_QQ, 1, "",   "iiiooo", (SUBR)tablew_init, NULL, NULL, NULL},
  { "tablew",  S(TABL),TW, 1,    "",   "iiiooo", (SUBR)tablew_init, NULL, NULL, NULL},
  { "tablew.kk", S(TABL),TW,  3,    "", "kkiooo",(SUBR)tabl_setup,
    (SUBR)tablew_kontrol, NULL, NULL},
  { "tablew.aa", S(TABL),TW,  3,    "", "aaiooo",(SUBR)tabl_setup,
    (SUBR)tablew_audio, NULL, NULL},
  { "tablewkt.kk", S(TABL),TW,3, "",  "kkkooo",
    (SUBR)tablkt_setup,(SUBR)tablewkt_kontrol,NULL, NULL},
  { "tablewkt.aa", S(TABL),TW,3, "",  "aakooo",
    (SUBR)tablkt_setup,(SUBR)tablewkt_audio, NULL, NULL},
  { "tableng.i", S(TLEN),TR,1,     "i",  "i",    (SUBR)table_length, NULL,  NULL, NULL},
  { "tableng.k",  S(TLEN),TR,2,    "k",  "k",    NULL,  (SUBR)table_length, NULL, NULL},
  { "tableigpw",S(TGP), TB, 1,     "",  "i",    (SUBR)table_gpw, NULL,  NULL, NULL},
  { "tablegpw", S(TGP), TB,2,      "",  "k",    NULL,   (SUBR)table_gpw, NULL, NULL},
  { "tableimix",S(TABLMIX),TB, 1,  "",  "iiiiiiiii", (SUBR)table_mix, NULL, NULL, NULL},
  { "tablemix", S(TABLMIX),TB, 2,  "",  "kkkkkkkkk", NULL, (SUBR)table_mix, NULL, NULL},
  { "tableicopy",S(TGP),TB, 1, "", "ii",   (SUBR)table_copy, NULL, NULL, NULL},
  { "tablecopy", S(TGP),TB, 2, "", "kk", NULL, (SUBR)table_copy, NULL, NULL},
  { "tablera", S(TABLRA),TR, 3,   "a",  "kkk",
    (SUBR)table_ra_set, (SUBR)table_ra, NULL, NULL},
  { "tablewa", S(TABLWA),TW, 3,   "k",  "kakp",
    (SUBR)table_wa_set, (SUBR)table_wa, NULL, NULL},
  { "tablekt",  S(TABL),TR, 3,   "k",  "xkooo",  (SUBR)tablkt_setup,
    (SUBR)tablerkt_kontrol,
    NULL, NULL},
  { "tablekt.a",  S(TABL),TR, 3,   "a",  "xkooo",  (SUBR)tablkt_setup,
    (SUBR)tablerkt_audio, NULL, NULL},
  { "tableikt", S(TABL),TR, 3,    "k",  "xkooo", (SUBR)tablkt_setup,
    (SUBR)tableirkt_kontrol,
    NULL, NULL},
  { "tableikt.a", S(TABL),TR, 3,    "a",  "xkooo", (SUBR)tablkt_setup,
    (SUBR)tableirkt_audio, NULL, NULL},
  { "table3kt", S(TABL),TR, 3,  "k",  "xkooo", (SUBR)tablkt_setup,
    (SUBR)table3rkt_kontrol,
    NULL, NULL},
  { "table3kt.a", S(TABL),TR, 3,  "a",  "xkooo", (SUBR)tablkt_setup,
    (SUBR)table3rkt_audio, NULL, NULL},
  { "inz",    S(IOZ),    ZW, 2,   "",   "k",  NULL,   (SUBR)inz, NULL, NULL},
  { "outz",   S(IOZ),ZR|IR,  2,   "",   "k",    NULL,   (SUBR)outz, NULL, NULL},

  { "timek.k",  S(RDTIME),0, 2,  "k",  "",     NULL,    (SUBR)timek, NULL, NULL},
  { "timek.i", S(RDTIME),0, 1,   "i",  "",     (SUBR)timek,   NULL,  NULL, NULL},

  { "times.k",  S(RDTIME),0, 2,  "k",  "",     NULL,    (SUBR)timesr,NULL, NULL},
  { "times.i", S(RDTIME),0, 1,   "i",  "",     (SUBR)timesr,  NULL,  NULL, NULL},

  { "elapsedcycles.k",  S(RDTIME),0, 2,  "k",  "",     NULL,    (SUBR)elapsedcycles, NULL, NULL},
  { "elapsedcycles.i", S(RDTIME),0, 1,   "i",  "",     (SUBR)elapsedcycles,   NULL,  NULL, NULL},

  { "elapsedtime.k",  S(RDTIME),0, 2,  "k",  "",     NULL,    (SUBR)elapsedtime,NULL, NULL},
  { "elapsedtime.i", S(RDTIME),0, 1,   "i",  "",     (SUBR)elapsedtime,  NULL,  NULL, NULL},

  { "timeinstk", S(RDTIME),0, 3, "k",  "",
    (SUBR)instimset, (SUBR)instimek, NULL, NULL},
  { "timeinsts", S(RDTIME),0, 3, "k",  "",
    (SUBR)instimset, (SUBR)instimes, NULL, NULL},

  { "eventcycles", S(RDTIME),0, 3, "k",  "",
    (SUBR)instimset, (SUBR)eventcycles, NULL, NULL},
  { "eventtime", S(RDTIME),0, 3, "k",  "",
    (SUBR)instimset, (SUBR)eventtime, NULL, NULL},

  { "peak.k",  S(PEAK),0,   2,   "k",  "k",    NULL,    (SUBR)peakk,    NULL, NULL},
  { "peak.a",   S(PEAK),0,  2,   "k",  "a",    NULL,     (SUBR)peaka, NULL, NULL},
  { "printk", S(PRINTK),WR,  3,"",     "ikoooo",
    (SUBR)printkset, (SUBR)printk, NULL, NULL},
  { "printks",S(PRINTKS),WR, 3,   "",   "SiN",
    (SUBR)printksset_S,(SUBR)printks, NULL, NULL},
  { "printks2", sizeof(PRINTK3),0, 3, "", "Sk", (SUBR)printk3set, (SUBR)printk3, NULL, NULL},
  { "printks.i",S(PRINTKS),WR, 3,   "",   "iiN",
    (SUBR)printksset,(SUBR)printks, NULL, NULL},
  { "prints",S(PRINTS),0,   1,   "",   "SN",   (SUBR)printsset_S, NULL, NULL, NULL},
  { "prints.i",S(PRINTS),0,   1,   "",   "iN",   (SUBR)printsset, NULL, NULL, NULL},
  { "printk2", S(PRINTK2), WR, 3, "",   "koo",
    (SUBR)printk2set, (SUBR)printk2, NULL, NULL},
  { "portk",  S(PORT),0,    3, "k",     "kko",  (SUBR)porset,  (SUBR)kport, NULL, NULL},
  { "tonek",  S(TONE),0,    3, "k",     "kko",  (SUBR)tonset,  (SUBR)ktone, NULL, NULL},
  { "atonek", S(TONE),0,    3, "k",     "kko",  (SUBR)tonset,  (SUBR)katone, NULL, NULL},
  { "resonk", S(RESON),0,   3, "k",     "kkkpo",(SUBR)rsnset,  (SUBR)kreson, NULL, NULL},
  { "aresonk",S(RESON),0,   3, "k",     "kkkpo",(SUBR)rsnset,  (SUBR)kreson, NULL, NULL},
  { "aresonk",S(RESON),0,   3, "k",     "kkkpo",(SUBR)rsnset,  (SUBR)kareson, NULL, NULL},
  { "limit.i", S(LIMIT),0,  1, "i",     "iii",  (SUBR)klimit,  NULL,    NULL, NULL},
  { "limit.k",  S(LIMIT),0, 2, "k",     "kkk",  NULL,          (SUBR)klimit, NULL, NULL},
  { "limit.a",  S(LIMIT),0, 2, "a",     "akk",  NULL,  (SUBR)limit, NULL, NULL},
  { "prealloc", S(AOP),0,   1, "",      "iio",  (SUBR)prealloc, NULL, NULL, NULL},
  { "prealloc.S", S(AOP),0, 1, "",      "Sio",  (SUBR)prealloc_S, NULL, NULL, NULL},
  /* opcode   dspace      thread  outarg  inargs  isub    ksub    asub    */
  { "inh",    S(INH),0,     2,      "aaaaaa","",    NULL,   (SUBR)inh, NULL, NULL},
  { "ino",    S(INO),0,     2,      "aaaaaaaa","",  NULL,   (SUBR)ino, NULL, NULL},
  { "inx",    S(INALL),0,   2,      "aaaaaaaaaaaaaaaa","",  NULL,   (SUBR)in16, NULL, NULL},
  { "in32",   S(INALL),0,   2,      "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",
    "",     NULL,   (SUBR)in32, NULL, NULL},
  { "inch",   S(INCH1),0,    3,      "a",
    "k",    (SUBR)inch1_set,   (SUBR) inch_opcode1, NULL, NULL},
  { "inch.m",   S(INCH),0,    3,      "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "z",    (SUBR)inch_set,   (SUBR)inch_opcode, NULL, NULL},
  { "_in",    S(INALL),0,   3,      "mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm",
    "",     (SUBR)inch_set,   (SUBR)inall_opcode, NULL, NULL},
  /* Note that there is code in rdorch.c that assumes that opcodes starting
     with the characters out followed by a s, q, h, o or x are in this group
     ***BEWARE***
     CODE REMOVED 2011-Dec-14
  */
  { "outch",  S(OUTCH),IR,   2,      "",     "Z",    NULL,   (SUBR)outch, NULL, NULL},
  { "outc",   S(OUTX),IR,    2,      "",     "y",    (SUBR)ochn,   (SUBR)outall, NULL, NULL},
  { "cpsxpch", S(XENH),TR, 1,      "i",    "iiii", (SUBR)cpsxpch, NULL,  NULL, NULL},
  { "cps2pch", S(XENH),TR, 1,      "i",    "ii",   (SUBR)cps2pch, NULL,  NULL, NULL},
  { "cpstun", S(CPSTUN),  TR, 2,      "k",    "kkk",   NULL,   (SUBR)cpstun, NULL, NULL},
  { "cpstuni",S(CPSTUNI), TR, 1,      "i",    "ii",   (SUBR)cpstun_i, NULL, NULL, NULL},
  { "cpstmid", S(CPSTABLE),0, 1, "i", "i",    (SUBR)cpstmid, NULL, NULL, NULL},
  { "adsr", S(LINSEG),0,     3,     "k",    "iiiio",(SUBR)adsrset,(SUBR)klnseg, NULL, NULL},
  { "adsr.a", S(LINSEG),0,     3,     "a",    "iiiio",(SUBR)adsrset, (SUBR)linseg, NULL, NULL},
  { "madsr", S(LINSEG),0,    3,     "k",    "iiiioj", (SUBR)madsrset,(SUBR)klnsegr,NULL, NULL},
  { "madsr.a", S(LINSEG),0,    3,     "a",    "iiiioj", (SUBR)madsrset, (SUBR)linsegr, NULL, NULL},
  { "xadsr", S(EXXPSEG),0,   3,     "k",    "iiiio", (SUBR)xdsrset, (SUBR)kxpseg, NULL, NULL},
  { "xadsr.a", S(EXXPSEG),0,   3,     "a",    "iiiio", (SUBR)xdsrset, (SUBR)expseg, NULL, NULL},
  { "mxadsr", S(EXPSEG),0,   3,     "k",    "iiiioj", (SUBR)mxdsrset, (SUBR)kxpsegr, NULL, NULL},
  { "mxadsr.a", S(EXPSEG),0,   3,     "a",    "iiiioj", (SUBR)mxdsrset, (SUBR)expsegr, NULL, NULL},
  { "schedule", S(SCHED),0,  1,     "",     "iiim",
    (SUBR)schedule, NULL, NULL, NULL},
  { "schedule.N", S(SCHED),0,  1,     "",     "iiiN",
    (SUBR)schedule_N, NULL, NULL, NULL},
  { "schedule.S", S(SCHED),0,  1,     "",     "Siim",
    (SUBR)schedule_S, NULL, NULL, NULL},
  { "schedule.SN", S(SCHED),0,  1,     "",     "SiiN",
    (SUBR)schedule_SN, NULL, NULL, NULL},
  { "schedule.array", S(SCHED),0,  1,     "",     "i[]",
    (SUBR)schedule_array, NULL, NULL, NULL},
  /* **** Experimental schedulek opcodes **** */
  { "schedulek",   S(SCHED),0,  2,     "",     "kkkM",
    NULL, (SUBR)schedule, NULL, NULL},
  { "schedulek.N", S(SCHED),0,  2,     "",     "kkkN",
    NULL, (SUBR)schedule_N, NULL, NULL},
  { "schedulek.S", S(SCHED),0,  2,     "",     "SkkM",
    NULL, (SUBR)schedule_S, NULL, NULL},
  { "schedulek.SN", S(SCHED),0, 2,     "",     "SkkN",
    NULL, (SUBR)schedule_SN, NULL, NULL},
  { "schedulek.array",   S(SCHED),0,  2,     "",     "k[]",
    NULL, (SUBR)schedule_array, NULL, NULL},

  /* **** End of schedulek **** */
  { "schedwhen", S(WSCHED),0,3,     "",     "kkkkm",(SUBR)ifschedule, (SUBR)kschedule, NULL, NULL},
  { "schedwhen", S(WSCHED),0,3,     "",     "kSkkm",(SUBR)ifschedule, (SUBR)kschedule, NULL, NULL},
  { "schedkwhen", S(TRIGINSTR),0, 3,"",     "kkkkkz",(SUBR)triginset, (SUBR)ktriginstr, NULL, NULL},
  { "schedkwhen.S", S(TRIGINSTR),0, 3,"",    "kkkSkz",
                                             triginset_S, ktriginstr_S, NULL, NULL},
  { "schedkwhennamed", S(TRIGINSTR),0, 3,"", "kkkkkz",(SUBR)triginset, (SUBR)ktriginstr, NULL },
  { "schedkwhennamed.S", S(TRIGINSTR),0, 3,"",
                                        "kkkSkz",triginset_S, ktriginstr_S, NULL, NULL},
  { "trigseq", S(TRIGSEQ),0, 3,     "",     "kkkkkz", (SUBR)trigseq_set, (SUBR)trigseq, NULL, NULL},
  { "event", S(LINEVENT),0,  2,     "",     "Skz",  NULL, (SUBR)eventOpcode, NULL, NULL},
  { "event_i", S(LINEVENT),0,1,     "",     "Sim",  (SUBR)eventOpcodeI, NULL, NULL, NULL},
  { "event.S", S(LINEVENT),0,  2,     "",    "SSz",  NULL, (SUBR)eventOpcode_S, NULL, NULL},
  { "event_i.S", S(LINEVENT),0,1,     "",    "SSm",  (SUBR)eventOpcodeI_S, NULL, NULL, NULL},
  { "nstance", S(LINEVENT2),0,2,     "k",  "kkz",  NULL, (SUBR)instanceOpcode, NULL, NULL},
  { "nstance.i", S(LINEVENT2),0,1,   "i",  "iiim",  (SUBR)instanceOpcode, NULL, NULL, NULL},
  { "nstance.kS", S(LINEVENT2),0, 2, "k",  "SSz",  NULL, (SUBR)instanceOpcode_S, NULL, NULL},
  { "nstance.S", S(LINEVENT2),0, 1,  "i",  "Siim",  (SUBR)instanceOpcode_S, NULL, NULL, NULL},
  { "turnoff.i", S(KILLOP),0,1,     "",     "i", kill_instance, NULL, NULL, NULL},
  { "turnoff.k", S(KILLOP),0,2,     "",     "k", NULL, kill_instance, NULL, NULL},
  { "lfo", S(LFO),0,         3,     "k",    "kko",  (SUBR)lfoset,   (SUBR)lfok,   NULL, NULL},
  { "lfo.a", S(LFO),0,         3,     "a",    "kko",  (SUBR)lfoset,   (SUBR)lfoa, NULL, NULL},
  { "oscils",   S(OSCILS),0, 3,     "a", "iiio",
    (SUBR)oscils_set, (SUBR)oscils, NULL, NULL},
  { "lphasor",  S(LPHASOR),0,3,     "a", "xooooooo" ,
    (SUBR)lphasor_set, (SUBR)lphasor, NULL, NULL},
  { "tablexkt", S(TABLEXKT),TR, 3, "a", "xkkiooo", (SUBR)tablexkt_set,
    (SUBR)tablexkt, NULL, NULL},
  { "reverb2",  S(NREV2),0,  3,     "a",    "akkoojoj",
    (SUBR)reverbx_set,(SUBR)reverbx, NULL, NULL},
  { "nreverb",  S(NREV2),0,  3,     "a",    "akkoojoj",
    (SUBR)reverbx_set,(SUBR) reverbx, NULL, NULL},
  { "=.f",      S(FASSIGN),0, 3,    "f",   "f", (SUBR)fassign_set, (SUBR)fassign, NULL, NULL},
  { "init.f",   S(FASSIGN),0, 1,    "f",   "f", (SUBR)fassign_set, NULL, NULL, NULL},
  { "pvsanal",  S(PVSANAL), 0, 3,   "f",   "aiiiioo", (SUBR)pvsanalset, (SUBR)pvsanal, NULL, NULL},
  { "pvsynth",  S(PVSYNTH),0, 3,    "a",   "fo",     (SUBR)pvsynthset, (SUBR)pvsynth, NULL, NULL},
  { "pvsadsyn", S(PVADS),0,   3,    "a",   "fikopo", (SUBR)pvadsynset, (SUBR)pvadsyn, NULL, NULL},
  { "pvscross", S(PVSCROSS),0,3,    "f",   "ffkk",   (SUBR)pvscrosset, (SUBR)pvscross, NULL, NULL},
  { "pvsfread", S(PVSFREAD),0,3,    "f",   "kSo",    (SUBR)pvsfreadset_S, (SUBR)pvsfread, NULL, NULL},
  { "pvsfread.i", S(PVSFREAD),0,3,  "f",   "kio",    (SUBR)pvsfreadset, (SUBR)pvsfread, NULL, NULL},
  { "pvsmaska", S(PVSMASKA),0,3,    "f",   "fik",    (SUBR)pvsmaskaset, (SUBR)pvsmaska, NULL, NULL},
  { "pvsftw",   S(PVSFTW),  TW, 3,  "k",   "fio",    (SUBR)pvsftwset, (SUBR)pvsftw, NULL, NULL},
  { "pvsftr",   S(PVSFTR),TR, 3,    "",    "fio",    (SUBR)pvsftrset, (SUBR)pvsftr, NULL, NULL},
  { "pvsinfo",  S(PVSINFO),0, 1,    "iiii","f",      (SUBR)pvsinfo, NULL, NULL, NULL},
  { "octave.i", S(EVAL),0,    1,    "i",    "i",     (SUBR)powoftwo, NULL, NULL, NULL},
  { "octave.k", S(EVAL),0,    2,    "k",    "k",     NULL,  (SUBR)powoftwo, NULL, NULL},
  { "octave.a", S(EVAL),0,    2,    "a",    "a",     NULL, (SUBR)powoftwoa, NULL, NULL},
  { "semitone.i",S(EVAL),0,   1,    "i",    "i",     (SUBR)semitone, NULL, NULL, NULL},
  { "semitone.k",S(EVAL),0,   2,    "k",    "k",     NULL,  (SUBR)semitone, NULL, NULL},
  { "semitone.a",S(EVAL),0,   2,    "a",    "a",     NULL, (SUBR)asemitone, NULL, NULL},
  { "cent.i",   S(EVAL),0,    1,    "i",    "i",     (SUBR)cent, NULL, NULL, NULL},
  { "cent.k",   S(EVAL),0,    2,    "k",    "k",     NULL,  (SUBR)cent, NULL, NULL},
  { "cent.a",   S(EVAL),0,    2,    "a",    "a",     NULL, (SUBR)acent, NULL, NULL},
  { "db.i",     S(EVAL),0,    1,    "i",    "i",     (SUBR)db, NULL, NULL, NULL},
  { "db.k",     S(EVAL),0,    2,    "k",    "k",     NULL, (SUBR)db, NULL, NULL},
  { "db.a",     S(EVAL),0,    2,    "a",    "a",     NULL, (SUBR)dba, NULL, NULL},
  { "midichn",  S(MIDICHN),0, 1,    "i",    "",      (SUBR)midichn, NULL, NULL, NULL},
  { "pgmassign",S(PGMASSIGN),0, 1,  "",     "iio",   (SUBR)pgmassign, NULL, NULL, NULL},
  { "pgmassign.S",S(PGMASSIGN),0, 1, "",    "iSo",   (SUBR)pgmassign_S, NULL, NULL, NULL},
  { "midiin",   S(MIDIIN),0,  3,    "kkkk", "",      (SUBR)midiin_set, (SUBR)midiin, NULL, NULL},
  { "pgmchn",   S(PGMIN),0,  3,     "kk",   "o",     (SUBR)pgmin_set, (SUBR)pgmin, NULL, NULL},
  { "ctlchn",   S(CTLIN),0,  3,     "kkk",  "oo",    (SUBR)ctlin_set, (SUBR)ctlin, NULL, NULL},
  { "miditempo", S(MIDITEMPO),0, 3, "k",    "",
    (SUBR) midiTempoOpcode, (SUBR) midiTempoOpcode, NULL, NULL},
  { "midifilestatus", S(MIDITEMPO),0, 2, "k",    "",
   NULL, (SUBR) midiFileStatus, NULL, NULL},
  { "midinoteoff", S(MIDINOTEON),0,3   ,"", "xx",   (SUBR)midinoteoff, (SUBR)midinoteoff, NULL, NULL},
  { "midinoteonkey", S(MIDINOTEON),0,3, "", "xx",   (SUBR)midinoteonkey, (SUBR)midinoteonkey, NULL, NULL},
  { "midinoteoncps", S(MIDINOTEON),0, 3, "", "xx",  (SUBR)midinoteoncps,(SUBR)midinoteoncps, NULL, NULL},
  { "midinoteonoct", S(MIDINOTEON),0, 3, "", "xx",  (SUBR)midinoteonoct,(SUBR)midinoteonoct, NULL, NULL},
  { "midinoteonpch", S(MIDINOTEON),0, 3, "", "xx",  (SUBR)midinoteonpch, (SUBR)midinoteonpch, NULL, NULL},
  { "midipolyaftertouch", S(MIDIPOLYAFTERTOUCH),0,
    3,   "", "xxoh", (SUBR)midipolyaftertouch, (SUBR)midipolyaftertouch, NULL, NULL},
  { "midicontrolchange", S(MIDICONTROLCHANGE),0,
    3, "", "xxoh",(SUBR)midicontrolchange, (SUBR)midicontrolchange, NULL, NULL},
  { "midiprogramchange", S(MIDIPROGRAMCHANGE),0,
    3, "", "x", (SUBR)midiprogramchange, (SUBR)midiprogramchange, NULL, NULL},
  { "midichannelaftertouch", S(MIDICHANNELAFTERTOUCH),0,
    3, "", "xoh",(SUBR)midichannelaftertouch, (SUBR)midichannelaftertouch, NULL, NULL},
  { "midipitchbend", S(MIDIPITCHBEND),0,3, "", "xoh",
    (SUBR)midipitchbend, (SUBR)midipitchbend, NULL, NULL},
  { "mididefault", S(MIDIDEFAULT),0, 3, "", "xx",   (SUBR)mididefault, (SUBR)mididefault, NULL, NULL},
  //{ "invalue",   0xFFFF,   _CR,    0,   NULL,   NULL, NULL, NULL },
  { "invalue.k", S(INVAL),_CR, 3, "k", "i", (SUBR) invalset,(SUBR)kinval, NULL, NULL},
  { "invalue.i", S(INVAL),_CR, 1, "i", "i", (SUBR) invalsetgo, NULL, NULL, NULL},
  { "invalue.iS", S(INVAL),_CR, 1, "i", "S", (SUBR) invalsetSgo, NULL, NULL, NULL},
  { "invalue.kS", S(INVAL),_CR, 3, "k", "S",(SUBR) invalset_S,(SUBR)kinval, NULL, NULL},
  { "invalue.S", S(INVAL),_CR, 3, "S", "i",
                                      (SUBR) invalset_string, (SUBR)kinvalS, NULL, NULL},
  { "invalue.SS", S(INVAL),_CR, 3, "S", "S",
                                    (SUBR) invalset_string_S, (SUBR)kinvalS, NULL, NULL},
  { "outvalue", S(OUTVAL), _CW, 3, "", "ik", (SUBR) outvalset, (SUBR)koutval, NULL, NULL},
  { "outvalue.i", S(OUTVAL), _CW, 1, "", "ii", (SUBR) outvalsetgo, NULL, NULL, NULL},
  { "outvalue.Si", S(OUTVAL), _CW, 1, "", "Si",
                                          (SUBR) outvalsetSgo, NULL, NULL, NULL},
  { "outvalue.k", S(OUTVAL), _CW, 3, "", "Sk",
                                          (SUBR) outvalset_S, (SUBR)koutval, NULL, NULL},
  { "outvalue.S", S(OUTVAL), _CW, 3, "", "iS",
                                     (SUBR) outvalset_string, (SUBR)koutvalS, NULL, NULL},
  { "outvalue.SS", S(OUTVAL), _CW, 3, "", "SS",
                                   (SUBR) outvalset_string_S, (SUBR)koutvalS, NULL, NULL},
  /* IV - Oct 20 2002 */
  { "subinstr", S(SUBINST),0, 3, "mmmmmmmm", "SN",  subinstrset_S, subinstr, NULL, NULL},
  { "subinstrinit", S(SUBINST),0, 1, "",    "SN",   subinstrset_S, NULL, NULL, NULL},
  { "subinstr.i", S(SUBINST),0, 3, "mmmmmmmm", "iN",  subinstrset, subinstr, NULL, NULL},
  { "subinstrinit.i", S(SUBINST),0, 1, "",    "iN",   subinstrset, NULL, NULL, NULL},
  { "nstrnum", S(NSTRNUM),0, 1,     "i",    "S",    nstrnumset_S, NULL, NULL, NULL},
  { "nstrnum.i", S(NSTRNUM),0, 1,     "i",    "i",    nstrnumset, NULL, NULL, NULL},
  { "nstrstr", S(NSTRSTR),0, 1,       "S",    "i",    nstrstr, NULL, NULL, NULL},
  { "nstrstr.k", S(NSTRSTR),0, 2,     "S",    "k",    NULL, nstrstr, NULL, NULL},
  //{ "turnoff2",   0xFFFB,   _CW,    0, NULL,   NULL,   NULL, NULL, NULL          },
  { "turnoff2_i.S",S(TURNOFF2),_CW,1,     "",     "Soo",  (SUBR)turnoff2S, NULL, NULL, NULL},
  { "turnoff2_i.i",S(TURNOFF2),_CW,1,     "",     "ioo",  (SUBR)turnoff2k, NULL, NULL, NULL},
  { "turnoff2.S",S(TURNOFF2),_CW,2,     "",     "Skk",  NULL, (SUBR)turnoff2S, NULL, NULL},
  { "turnoff2.c",S(TURNOFF2),_CW,2,     "",     "ikk",  NULL, (SUBR)turnoff2k, NULL, NULL},
  { "turnoff2.k",S(TURNOFF2),_CW,2,     "",     "kkk",  NULL, (SUBR)turnoff2k, NULL, NULL},
  { "turnoff2.i",S(TURNOFF2),_CW,2,     "",     "ikk",  NULL, (SUBR)turnoff2k, NULL, NULL},
  { "turnoff2.r",S(TURNOFF2),_CW,2,     "",     "ikk",  NULL, (SUBR)turnoff2k, NULL, NULL},
  { "turnoff3.S",S(TURNOFF2),_CW,2,     "",     "S",  NULL, (SUBR)turnoff3S, NULL, NULL},
  { "turnoff3.c",S(TURNOFF2),_CW,2,     "",     "i",  NULL, (SUBR)turnoff3k, NULL, NULL},
  { "turnoff3.k",S(TURNOFF2),_CW,2,     "",     "k",  NULL, (SUBR)turnoff3k, NULL, NULL},
  { "turnoff3.i",S(TURNOFF2),_CW,2,     "",     "i",  NULL, (SUBR)turnoff3k, NULL, NULL},
  { "turnoff3.r",S(TURNOFF2),_CW,2,     "",     "i",  NULL, (SUBR)turnoff3k, NULL, NULL},
  { "cngoto", S(CGOTO),0,   3,      "",     "Bl",   (SUBR)ingoto, (SUBR)kngoto, NULL, NULL},
  { "cnkgoto", S(CGOTO),0,   2,      "",     "Bl",   NULL,  (SUBR)kngoto, NULL, NULL},
  { "cingoto", S(CGOTO),0,   1,      "",     "Bl",   (SUBR)ingoto, NULL, NULL, NULL},
  { "tempoval", S(GTEMPO),0, 2,  "k", "",      NULL, (SUBR)gettempo, NULL, NULL},
  { "downsamp",S(DOWNSAMP),0,3, "k", "ao",   (SUBR)downset,(SUBR)downsamp, NULL, NULL},
  { "upsamp", S(UPSAMP),0,  2,  "a", "k",    NULL,   (SUBR)upsamp, NULL, NULL},
  /* IV - Sep 5 2002 */
  { "interp", S(INTERP),0,  3,  "a", "kooo", (SUBR)interpset, (SUBR)interp, NULL, NULL},
  { "a.k",    S(INTERP),0,  3,  "a", "k",    (SUBR)a_k_set,   (SUBR)interp, NULL, NULL},
  { "integ", S(INDIFF),  0, 3,  "a", "xo",
    (SUBR)indfset,(SUBR)integrate, NULL, NULL},
  { "integ.k", S(INDIFF),  0, 3,  "k", "xo",
    (SUBR)indfset,(SUBR)kntegrate, NULL, NULL},
  { "diff",   S(INDIFF),0,  3,  "a", "xo", (SUBR)indfset, (SUBR)diff, NULL, NULL},
  { "diff.k",   S(INDIFF),0,  3,  "k", "xo", (SUBR)indfset,(SUBR)kdiff, NULL, NULL},
  { "samphold",S(SAMPHOLD),0,3, "a", "xxoo",
    (SUBR)samphset,(SUBR)samphold, NULL, NULL},
  { "samphold.k",S(SAMPHOLD),0,3, "k", "xxoo",
    (SUBR)samphset,(SUBR)ksmphold,NULL, NULL},
  { "delay",  S(DELAY),0,   3,  "a", "aio",  (SUBR)delset,   (SUBR)delay, NULL, NULL},
  { "delayr", S(DELAYR),0,  3,  "aX","io",   (SUBR)delrset,   (SUBR)delayr, NULL, NULL},
  { "delayw", S(DELAYW),0,  3,  "",  "a",    (SUBR)delwset,   (SUBR)delayw, NULL, NULL},
  { "delay1", S(DELAY1),0,  3,  "a", "ao",   (SUBR)del1set,   (SUBR)delay1, NULL, NULL},
  { "deltap", S(DELTAP),0,  3,  "a", "ko",   (SUBR)tapset,   (SUBR)deltap, NULL, NULL},
  { "deltapi",S(DELTAP),0,  3,  "a", "xo",   (SUBR)tapset,   (SUBR)deltapi, NULL, NULL},
  { "deltapn",S(DELTAP),0,  3,  "a", "xo",   (SUBR)tapset,   (SUBR)deltapn, NULL, NULL},
  { "deltap3",S(DELTAP),0,  3,  "a", "xo",   (SUBR)tapset,   (SUBR)deltap3, NULL, NULL},
  { "reverb", S(REVERB),0,  3,  "a", "ako",  (SUBR)rvbset,   (SUBR)reverb, NULL, NULL},
  { "vdelay",   S(VDEL),0,  3,  "a", "axio", (SUBR)vdelset,  (SUBR)vdelay, NULL, NULL},
  { "vdelay3",  S(VDEL),0,  3,  "a", "axio", (SUBR)vdelset,  (SUBR)vdelay3, NULL, NULL},
  { "vdelayxwq",S(VDELXQ),0,3,  "aaaa", "aaaaaiio",
    (SUBR)vdelxqset, (SUBR)vdelayxwq, NULL, NULL},
  { "vdelayxws",S(VDELXS),0,3,  "aa", "aaaiio", (SUBR)vdelxsset,
    (SUBR)vdelayxws, NULL, NULL},
  { "vdelayxw", S(VDELX),0, 3,  "a",  "aaiio",
    (SUBR)vdelxset, (SUBR)vdelayxw, NULL, NULL},
  { "vdelayxq", S(VDELXQ),0,3,  "aaaa", "aaaaaiio",
    (SUBR)vdelxqset, (SUBR)vdelayxq, NULL, NULL},
  { "vdelayxs", S(VDELXS),0,3,  "aa", "aaaiio",
    (SUBR)vdelxsset, (SUBR)vdelayxs, NULL, NULL},
  { "vdelayx",  S(VDELX),0, 3,  "a",  "aaiio", (SUBR)vdelxset, (SUBR)vdelayx, NULL, NULL},
  { "deltapx",  S(DELTAPX),0,3, "a",  "aio",  (SUBR)tapxset,  (SUBR)deltapx, NULL, NULL},
  { "deltapxw", S(DELTAPX),0,3,  "",  "aaio", (SUBR)tapxset, (SUBR)deltapxw, NULL, NULL},
  { "multitap", S(MDEL),0,  3,   "a", "am",
    (SUBR)multitap_set,(SUBR)multitap_play, NULL, NULL},
  { "comb",   S(COMB),0,    3,  "a",  "akioo", (SUBR)cmbset, (SUBR)comb, NULL, NULL},
  { "combinv",S(COMB),0,    3,  "a",  "akioo", (SUBR)cmbset, (SUBR)invcomb, NULL, NULL},
  { "alpass", S(COMB),0,    3,  "a",  "axioo", (SUBR)cmbset, (SUBR)alpass, NULL, NULL},
  { "strset",   S(STRSET_OP),0,   1,  "",     "iS",
     (SUBR) strset_init, NULL, NULL, NULL},
  { "strget",   S(STRGET_OP),0,   1,  "S",    "i",
     (SUBR) strget_init, NULL, NULL, NULL},
  {  "S",   S(STRGET_OP),0,   1,  "S",    "i",
     (SUBR) s_opcode, NULL, NULL, NULL},
  {  "S",   S(STRGET_OP),0,   3,  "S",    "k",
     (SUBR) s_opcode,(SUBR) s_opcode_k, NULL, NULL},
  {  "strcpy",   S(STRCPY_OP),0,   1,  "S",    "S",
     (SUBR) strcpy_opcode_S, NULL, NULL, NULL},
  {  "strcpy",   S(STRGET_OP),0,   1,  "S",    "i",
     (SUBR) strcpy_opcode_p, NULL, NULL, NULL},
  {  "strcpyk",  S(STRCPY_OP),0,   3,  "S",    "S",
     (SUBR) strcpy_opcode_S, (SUBR) strcpy_opcode_S, NULL, NULL},
  {  "strcpyk.k",  S(STRGET_OP),0,   3,  "S",    "k",
     (SUBR) strcpy_opcode_p, (SUBR) strcpy_opcode_p, NULL, NULL},
  {  "strcat",   S(STRCAT_OP),0,   1,  "S",    "SS",
     (SUBR) strcat_opcode, NULL, NULL, NULL},
  {  "strcatk",  S(STRCAT_OP),0,   3,  "S",    "SS",
     (SUBR) strcat_opcode, (SUBR) strcat_opcode, NULL, NULL},
  {  "strcmp",   S(STRCMP_OP),0,   1,  "i",    "SS",
     (SUBR) strcmp_opcode, NULL, NULL, NULL},
  {  "strcmpk",  S(STRCMP_OP),0,   3,  "k",    "SS",
     (SUBR) strcmp_opcode, (SUBR) strcmp_opcode, NULL, NULL},
  {  "sprintf",  S(SPRINTF_OP),0,  1,  "S",    "STN",
     (SUBR) sprintf_opcode, NULL, NULL, NULL},
  {  "sprintfk", S(SPRINTF_OP),WR,  3,  "S",    "SUN",
     (SUBR) sprintf_opcode, (SUBR) sprintf_opcode, NULL, NULL},
  {  "printf_i", S(PRINTF_OP),0,   1,  "",     "SiN", /* SiTN */
     (SUBR) printf_opcode_init, NULL, NULL, NULL},
  {  "printf",   S(PRINTF_OP),WR,   3,  "",     "SkN", /* SkUN */
     (SUBR) printf_opcode_set, (SUBR) printf_opcode_perf, NULL, NULL},
  {  "puts",     S(PUTS_OP),WR,     3,  "",     "Sko",
     (SUBR) puts_opcode_init, (SUBR) puts_opcode_perf, NULL, NULL},
  {  "strtod",   S(STRSET_OP),0,   1,  "i",    "S",
     (SUBR) strtod_opcode_S, NULL, NULL, NULL},
  {  "strtod",   S(STRTOD_OP),0,   1,  "i",    "i",
     (SUBR) strtod_opcode_p, NULL, NULL, NULL},
  {  "strtodk",  S(STRSET_OP),0,   3,  "k",    "S",
     (SUBR) strtod_opcode_S, (SUBR) strtod_opcode_S, NULL, NULL},
  {  "strtol",   S(STRSET_OP),0,   1,  "i",    "S",
     (SUBR) strtol_opcode_S, NULL, NULL, NULL},
  {  "strtol",   S(STRTOD_OP),0,   1,  "i",    "i",
     (SUBR) strtol_opcode_p, NULL, NULL, NULL},
  {  "strtolk",  S(STRSET_OP),0,   3,  "k",    "S",
     (SUBR) strtol_opcode_S, (SUBR) strtol_opcode_S, NULL         },
  {  "strsub",   S(STRSUB_OP),0,   1,  "S",    "Soj",
     (SUBR) strsub_opcode, NULL, NULL, NULL},
  {  "strsubk",  S(STRSUB_OP),0,   3,  "S",    "Skk",
     (SUBR) strsub_opcode, (SUBR) strsub_opcode, NULL, NULL},
  {  "strchar",  S(STRCHAR_OP),0,  1,  "i",    "So",
     (SUBR) strchar_opcode, NULL, NULL, NULL},
  {  "strchark", S(STRCHAR_OP),0,  3,  "k",    "SO",
     (SUBR) strchar_opcode, (SUBR) strchar_opcode, NULL, NULL},
  {  "strlen",   S(STRLEN_OP),0,   1,  "i",    "S",
     (SUBR) strlen_opcode, NULL, NULL, NULL},
  {  "strlenk",  S(STRLEN_OP),0,   3,  "k",    "S",
     (SUBR) strlen_opcode, (SUBR) strlen_opcode, NULL, NULL},
  {  "strupper", S(STRUPPER_OP),0, 1,  "S",    "S",
     (SUBR) strupper_opcode, NULL, NULL, NULL},
  {  "strupperk", S(STRUPPER_OP),0, 3, "S",    "S",
     (SUBR) strupper_opcode, (SUBR) strupper_opcode, NULL, NULL},
  {  "strlower", S(STRUPPER_OP),0, 1,  "S",    "S",
     (SUBR) strlower_opcode, NULL, NULL, NULL},
  {  "strlowerk", S(STRUPPER_OP),0, 3, "S",    "S",
     (SUBR) strlower_opcode, (SUBR) strlower_opcode, NULL, NULL},
  {  "getcfg",   S(GETCFG_OP),0,   1,  "S",    "i",
     (SUBR) getcfg_opcode, NULL, NULL, NULL},
  {  "strindex", S(STRINDEX_OP),0, 1,  "i",    "SS",
     (SUBR) strindex_opcode, NULL, NULL, NULL},
  {  "strindexk", S(STRINDEX_OP),0, 3, "k",    "SS",
     (SUBR) strindex_opcode, (SUBR) strindex_opcode, NULL, NULL},
  {  "strrindex", S(STRINDEX_OP),0, 1, "i",    "SS",
     (SUBR) strrindex_opcode, NULL, NULL, NULL},
  {  "strrindexk", S(STRINDEX_OP),0, 3, "k",   "SS",
     (SUBR) strrindex_opcode, (SUBR) strrindex_opcode, NULL, NULL},
  {  "print_type", S(PRINT_TYPE_OP),0, 1, "",   ".",
     (SUBR) print_type_opcode, NULL, NULL, NULL},
#ifdef HAVE_CURL
  {  "strfromurl", S(STRCPY_OP), 0, 1, "S", "S", (SUBR) str_from_url     },
#endif
  {  "changed.S", S(STRCHGD),0, 3, "k",   "S",
     (SUBR) str_changed, (SUBR) str_changed_k, NULL, NULL},
  {  "changed2.S", S(STRCHGD),0, 3, "k",   "S",
     (SUBR) str_changed, (SUBR) str_changed_k, NULL, NULL},
  { "loop_lt.i", S(LOOP_OPS),0,  1,  "", "iiil", (SUBR) loop_l_i, NULL, NULL, NULL},
  { "loop_le.i", S(LOOP_OPS),0,  1,  "", "iiil", (SUBR) loop_le_i, NULL, NULL, NULL},
  { "loop_gt.i", S(LOOP_OPS),0,  1,  "", "iiil", (SUBR) loop_g_i, NULL, NULL, NULL},
  { "loop_ge.i", S(LOOP_OPS),0,  1,  "", "iiil", (SUBR) loop_ge_i, NULL, NULL, NULL},
  { "loop_lt.k", S(LOOP_OPS),0,  2,  "", "kkkl", NULL, (SUBR) loop_l_p, NULL, NULL},
  { "loop_le.k", S(LOOP_OPS),0,  2,  "", "kkkl", NULL, (SUBR) loop_le_p, NULL, NULL},
  { "loop_gt.k", S(LOOP_OPS),0,  2,  "", "kkkl", NULL, (SUBR) loop_g_p, NULL, NULL},
  { "loop_ge.k", S(LOOP_OPS),0,  2,  "", "kkkl", NULL, (SUBR) loop_ge_p, NULL, NULL},
  { "chnget",      0xFFFF,    _CR, 0, "", "", NULL, NULL, NULL, NULL},
  { "chnget.i",    S(CHNGET),_CR,           1,      "i",            "S",
    (SUBR) chnget_opcode_init_i, NULL, NULL, NULL},
  { "chnget.k",    S(CHNGET),_CR,           3,      "k",            "S",
    (SUBR) chnget_opcode_init_k, (SUBR) notinit_opcode_stub, NULL },
  { "chngeti.i",    S(CHNGET),_CR,           1,      "i[]",            "S[]",
    (SUBR) chnget_array_opcode_init_i, NULL, NULL, NULL},
  { "chngeta.a",    S(CHNGET),_CR,           3,      "a[]",            "S[]",
    (SUBR) chnget_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chngets.s",    S(CHNGET),_CR,           3,      "S[]",            "S[]",
    (SUBR) chnget_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chngetk.k",    S(CHNGET),_CR,           3,      "k[]",            "S[]",
    (SUBR) chnget_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnget.a",    S(CHNGET),_CR,           3,      "a",            "S",
    (SUBR) chnget_opcode_init_a, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnget.S",    S(CHNGET),_CR,           3,      "S",            "S",
    (SUBR) chnget_opcode_init_S, (SUBR) chnget_opcode_perf_S, NULL, NULL},
  { "chngetks",    S(CHNGET),_CR,           2,      "S",            "S",
    NULL, (SUBR) chnget_opcode_perf_S, NULL, NULL},
  //{ "chnset",      0xFFFB,              _CW                               },

  { "chnseti.i",    S(CHNGET),_CW,          1,      "",             "i[]S[]",
    (SUBR) chnset_array_opcode_init_i, NULL, NULL, NULL},
  { "chnsetk.k",    S(CHNGET),_CW,           3,      "",             "k[]S[]",
    (SUBR) chnset_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnseta.a",    S(CHNGET),_CW,           3,      "",             "a[]S[]",
    (SUBR) chnset_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnsets.s",    S(CHNGET),_CW,           3,      "",             "S[]S[]",
    (SUBR) chnset_array_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},

  { "chnset.i",    S(CHNGET),_CW,          1,      "",             "iS",
    (SUBR) chnset_opcode_init_i, NULL, NULL, NULL},
  //  { "chnset.r",    S(CHNGET),0,           1,      "",             "iS",
  //    (SUBR) chnset_opcode_init_i, NULL, NULL               },
  //  { "chnset.c",    S(CHNGET),0,           1,      "",             "iS",
  //    (SUBR) chnset_opcode_init_i, NULL, NULL               },
  { "chnset.k",    S(CHNGET),_CW,           3,      "",             "kS",
    (SUBR) chnset_opcode_init_k, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnset.a",    S(CHNGET),_CW,           3,      "",             "aS",
    (SUBR) chnset_opcode_init_a, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnset.S",    S(CHNGET),_CW,           3,      "",             "SS",
    (SUBR) chnset_opcode_init_S, (SUBR) chnset_opcode_perf_S, NULL, NULL},
  { "chnsetks",    S(CHNGET),_CW,           2,      "",             "SS",
    NULL, (SUBR) chnset_opcode_perf_S, NULL, NULL},
  { "chnmix",      S(CHNGET),           _CB, 3,      "",             "aS",
    (SUBR) chnmix_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chnclear",    S(CHNCLEAR),        _CW, 3,      "",             "W",
    (SUBR) chnclear_opcode_init, (SUBR) notinit_opcode_stub, NULL, NULL},
  { "chn_k",       S(CHN_OPCODE_K),    _CW, 1,      "",             "SiooooooooN",
    (SUBR) chn_k_opcode_init, NULL, NULL, NULL},
  { "chn_k",       S(CHN_OPCODE_K),    _CW, 1,      "",             "SSooooooooN",
    (SUBR) chn_k_opcode_init_S, NULL, NULL, NULL},
  { "chn_a",       S(CHN_OPCODE),      _CW, 1,      "",             "Si",
    (SUBR) chn_a_opcode_init, NULL, NULL, NULL},
  { "chn_S",       S(CHN_OPCODE),      _CW, 1,      "",             "Si",
    (SUBR) chn_S_opcode_init, NULL, NULL, NULL},
  //{ "chnexport",   0xFFFF,  0,    0,   NULL,   NULL, NULL, NULL },
  { "chnexport.i", S(CHNEXPORT_OPCODE),0, 1,      "i",            "Sioooo",
    (SUBR) chnexport_opcode_init, NULL, NULL, NULL},
  { "chnexport.k", S(CHNEXPORT_OPCODE),0, 1,      "k",            "Sioooo",
    (SUBR) chnexport_opcode_init, NULL, NULL, NULL},
  { "chnexport.a", S(CHNEXPORT_OPCODE),0, 1,      "a",            "Si",
    (SUBR) chnexport_opcode_init, NULL, NULL, NULL},
  { "chnexport.S", S(CHNEXPORT_OPCODE),0, 1,      "S",            "Si",
    (SUBR) chnexport_opcode_init, NULL, NULL, NULL},
  { "chnparams",   S(CHNPARAMS_OPCODE),_CR, 1,      "iiiiii",       "S",
    (SUBR) chnparams_opcode_init, NULL, NULL, NULL},
  /*  these opcodes have never been fully implemented
      { "chnrecv",     S(CHNSEND),       _CR, 3,      "",             "So",
      (SUBR) chnrecv_opcode_init, (SUBR) notinit_opcode_stub, NULL },
      { "chnsend",     S(CHNSEND),0,          3,      "",             "So",
      (SUBR) chnsend_opcode_init, (SUBR) notinit_opcode_stub, NULL },
  */
  //{ "chano",       0xFFFD,  _CW, 0,      NULL, NULL, NULL, NULL },
  { "chano.k",     S(ASSIGN),_CW,           2,      "",             "kk",
    NULL, (SUBR) chano_opcode_perf_k, NULL, NULL},
  { "chano.a",     S(ASSIGN),_CW,           2,      "",             "ak",
    NULL, (SUBR) chano_opcode_perf_a, NULL, NULL},
  { "pvsout",     S(FCHAN),0,           3,      "",             "fk",
    (SUBR) pvsout_init, (SUBR) pvsout_perf, NULL, NULL},
  //{ "chani",      0xFFFF,  _CR,      0,   NULL, NULL, NULL, NULL },
  { "chani.k",     S(ASSIGN),_CR,           2,      "k",            "k",
    NULL, (SUBR) chani_opcode_perf_k, NULL, NULL},
  { "chani.a",     S(ASSIGN),_CR,           2,      "a",            "k",
    NULL, (SUBR) chani_opcode_perf_a, NULL, NULL},
  { "pvsin",     S(FCHAN),0,           3,      "f",            "kooopo",
    (SUBR)  pvsin_init, (SUBR) pvsin_perf, NULL, NULL},
  { "sense",       S(KSENSE),0,           2,      "kz",           "",
    NULL, (SUBR) sensekey_perf, NULL, NULL},
  { "sensekey",    S(KSENSE),0,           2,      "kz",           "",
    NULL, (SUBR) sensekey_perf, NULL, NULL},
  { "remove",      S(DELETEIN),0,         1,      "",             "T",
    (SUBR) delete_instr, NULL, NULL, NULL},
  //  { "##globallock",   S(GLOBAL_LOCK_UNLOCK),0, 3, "", "i",
  //    globallock,   globallock,   NULL},
  //  { "##globalunlock", S(GLOBAL_LOCK_UNLOCK),0, 3, "", "i",
  //    globalunlock, globalunlock, NULL},
  { "##error",S(ERRFN),0, 1,          "i",     "i",   (SUBR)error_fn, NULL,    NULL, NULL},
  { "exprandi.i",S(PRANDI),0, 1,      "i",    "kxx",  (SUBR)iexprndi, NULL,    NULL, NULL},
  { "exprandi.k",S(PRANDI),0, 3,      "k",    "kxx",  (SUBR)exprndiset, (SUBR)kexprndi, NULL, NULL},
  { "exprandi.a",S(PRANDI),0, 2,      "a",    "kxx",  (SUBR)exprndiset, (SUBR)aexprndi, NULL, NULL},
  { "cauchyi.i", S(PRANDI),0, 1,      "i",    "kxx",  (SUBR)icauchyi, NULL,    NULL, NULL},
  { "cauchyi.k", S(PRANDI),0, 3,      "k",    "kxx",  (SUBR)cauchyiset, (SUBR)kcauchyi, NULL, NULL},
  { "cauchyi.a", S(PRANDI),0, 2,      "a",    "kxx",  (SUBR)cauchyiset, (SUBR)acauchyi, NULL, NULL},
  { "gaussi.i", S(PRANDI),0, 1,      "i",    "kxx",  (SUBR)igaussi, NULL,    NULL, NULL},
  { "gaussi.k", S(PRANDI),0, 3,      "k",    "kxx",  (SUBR)gaussiset, (SUBR)kgaussi, NULL, NULL},
  { "gaussi.a", S(PRANDI),0, 2,      "a",    "kxx",  (SUBR)gaussiset, (SUBR)agaussi, NULL, NULL},
  { "ftresizei", S(RESIZE), TB, 1, "i", "ii", (SUBR) resize_table, NULL, NULL, NULL},
  { "ftresize",  S(RESIZE), TB, 2, "k", "kk", NULL, (SUBR) resize_table, NULL, NULL},
  { "compileorc",  S(COMPILE), 0, 1, "i", "S",  (SUBR) compile_orc_i, NULL, NULL, NULL},
  { "compilecsd",  S(COMPILE), 0, 1, "i", "S",  (SUBR) compile_csd_i, NULL, NULL, NULL},
  { "compilestr",  S(COMPILE), 0, 1, "i", "S",  (SUBR) compile_str_i, NULL, NULL, NULL},
  { "evalstr",  S(COMPILE), 0, 1, "i", "S",  (SUBR) eval_str_i, NULL, NULL, NULL},
  { "evalstr",  S(COMPILE), 0, 2, "k", "Sk",  NULL, (SUBR) eval_str_k, NULL, NULL},
  { "readscore",  S(COMPILE), 0, 1, "i", "S",  (SUBR) read_score_i, NULL, NULL, NULL},
  { "return",  S(RETVAL), 0, 1, "", "i",  (SUBR) retval_i, NULL, NULL, NULL},
  /* ----------------------------------------------------------------------- */
  // VL: 9.3.22 this is causing a problem in parsing arrays
  // I am modifying it to accept only i-time inputs
  { "=.generic", S(ASSIGN), 0,1, ".", ".", (SUBR)copyVarGeneric, NULL, NULL, NULL},
  { "monitor",  sizeof(MONITOR_OPCODE), IB, 3,  "mmmmmmmmmmmmmmmmmmmmmmmm", "",
    (SUBR) monitor_opcode_init, (SUBR) notinit_opcode_stub,  NULL, NULL},
  { "outrg", S(OUTRANGE), IR,3, "", "ky",
    (SUBR)outRange_i, (SUBR)outRange, NULL, NULL},
  { "nchnls_hw", S(ASSIGN), 0,1, "ii", "",
    (SUBR)hw_channels, NULL, NULL, NULL},
   { "midiarp",   S(MIDIARP),0,  3,    "kk", "kO",
     (SUBR)midiarp_set, (SUBR)midiarp, NULL, NULL},
   {"lpcfilter", S(LPCFIL), 0, 3, "a", "akkiiio",
   (SUBR) lpfil_init, (SUBR) lpfil_perf, NULL, NULL},
   {"lpcfilter", S(LPCFIL2), 0, 3, "a", "aakkiio",
   (SUBR) lpfil2_init, (SUBR) lpfil2_perf, NULL, NULL},
   {"allpole", S(LPCFIL3), 0, 3, "a", "ak[]",
   (SUBR) lpfil3_init, (SUBR) lpfil3_perf, NULL, NULL},
   {"lpcanal", S(LPREDA), 0, 3, "k[]kkk", "kkiiio",
   (SUBR) lpred_alloc, (SUBR) lpred_run, NULL, NULL},
   {"lpcanal", S(LPREDA2), 0, 3, "k[]kkk", "akkiio",
   (SUBR) lpred_alloc2, (SUBR) lpred_run2, NULL, NULL},
   {"lpcanal", S(LPREDA), 0, 1, "i[]iii", "iiii",
   (SUBR) lpred_i, NULL, NULL, NULL},
   {"pvslpc", S(LPCPVS), 0, 3, "f", "aiiio",
    (SUBR) lpcpvs_init, (SUBR) lpcpvs, NULL, NULL},
   {"pvscfs", S(PVSCFS), 0, 3, "k[]kk", "fip",
    (SUBR) pvscoefs_init, (SUBR) pvscoefs, NULL, NULL},
   {"apoleparams", S(CF2P), 0, 3, "k[]", "k[]",
    (SUBR) coef2parm_init, (SUBR) coef2parm, NULL, NULL},
   {"resonbnk", S(RESONB), 0, 3, "a", "ak[]kkipoo",
   (SUBR) resonbnk_init, (SUBR) resonbnk, NULL, NULL},
  /* terminate list */
  {  NULL, 0, 0, 0, NULL, NULL, NULL, NULL, NULL, NULL}
};
